<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="shiwi"><meta name="copyright" content="SHIWIVI"><link rel="shortcut icon" href="/blog/images/favicon.ico" type="image/x-icon"><style>.preload{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;left:0;top:0;width:100%;height:100%;background-color:#000;z-index:100}.text{margin-bottom:10px;color:#00cff3;text-shadow:0 0 3px #00cff3;font-size:20px}.text span{display:inline-block}.dance{animation:dance .8s linear}.text span:nth-child(1){animation-delay:0s}.text span:nth-child(2){animation-delay:.1s}.text span:nth-child(3){animation-delay:.2s}.text span:nth-child(4){animation-delay:.3s}.text span:nth-child(5){animation-delay:.4s}.text span:nth-child(6){animation-delay:.5s}.text span:nth-child(7){animation-delay:.6s}.text span:nth-child(8){animation-delay:.7s}.text span:nth-child(9){animation-delay:.8s}.text span:nth-child(10){animation-delay:.9s}@keyframes dance{0%{transform:translateY(0)}50%{transform:translateY(-20px)}100%{transform:translateY(0)}}.loading{width:80%;max-width:260px;height:6px;background-color:#e1e4e8;border-radius:6px}.bar{display:flex;height:100%;background:linear-gradient(90deg,#ffd33d,#ea4aaa 10%,#b34bff 30%,#01feff 51%,#ffb33d 68%,#ea4aaa 85%,#b34bff);background-size:300% 100%;animation:bar 2s linear infinite}@keyframes bar{0%{background-position:100%}100%{background-position:0}}</style><body><div class="preload"><div class="text"><span>L</span> <span>o</span> <span>a</span> <span>d</span> <span>i</span> <span>n</span> <span>g</span> <span>.</span> <span>.</span> <span>.</span></div><div class="loading"><span class="bar"></span></div></div><script>let texts=document.querySelector('.text').querySelectorAll('span');let timer=setInterval(()=>{texts.forEach((item)=>{item.classList.toggle("dance")})},1700);window.onload=function(){clearInterval(timer);document.querySelector('.preload').style="display:none;"}</script><title>SHIWIVI-文章</title>
<link rel="stylesheet" href="https://at.alicdn.com/t/font_2856826_bu73u0ahu7a.css">

<link rel="stylesheet" href="/blog/css/index.css">
<link rel="stylesheet" href="/blog/css/article.css">
<link rel="stylesheet" href="/blog/css/atelier-cave.min.css">

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/blog/atom.xml" title="SHWIVI's blog" type="application/atom+xml">
</head>
<body>
<div class="nav">
    <div class="card">
        <div class="head">
            <img src="/blog/images/head.jpg"  alt="头不见了.." title="狗">
        </div>
        <div class="card-text">
            <p>(ー`´ー)</p>
            <p>那不是bug，是彩蛋</p>
        </div> 
    </div>
    <ul class="label">
        
        <li><a href="/blog/index.html">首页</a></li>
        
        <li><a href="/blog/life">日常</a></li>
        
        <li><a href="/blog/record">一句</a></li>
        
        <li><a href="/blog/message">留言</a></li>
        
        <li><a href="/blog/about">关于</a></li>
          
    </ul>
        <ul class="tag">
            <li><a href="/blog/tags/Command">#Command</a></li>
            <li><a href="/blog/tags/Java">#Java</a></li>
            <li><a href="/blog/tags/Css">#Css</a></li>
            <li><a href="/blog/tags/Life">#Life</a></li>
            <li><a href="/blog/tags/Lua">#Lua</a></li>
            <li><a href="/blog/tags/PCB">#PCB</a></li>
            <li><a href="/blog/tags/Shell">#Shell</a></li>
            <li><a href="/blog/tags/C">#C</a></li>
            <li><a href="/blog/tags/html">#html</a></li>
            <li><a href="/blog/tags/%E7%A1%AC%E4%BB%B6">#硬件</a></li>
            <li><a href="/blog/tags/JavaScrip">#JavaScript</a></li>
            <li><a href="/blog/tags/Firewall">#Firewall</a></li>
            <li><a href="/blog/tags/Security">#Security</a></li>
            <li><a href="/blog/tags/Linux">#Linux</a></li>
            <li><a href="/blog/tags/Python">#Python</a></li>
            <li><a href="/blog/tags/Server">#Server</a></li>
            <li><a href="/blog/tags/Web">#Web</a></li>
        </ul>
    <div class="rsstag"><a href="/blog/atom.xml"><span class="iconfont icon-rss"></span>RSS订阅</a></div>
<div class="flower">
<?xml version="1.0" encoding="UTF-8"?>
<svg width="84.6px" height="70.5px" viewBox="0 0 254 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<title>窗</title>
<desc>Created with Sketch.</desc>
<defs></defs>
<g id="植物" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g id="Artboard" transform="translate(-885.000000, -503.000000)">
        <g id="植物-紫色盆" transform="translate(882.000000, 500.000000)">
            <ellipse id="Oval-12" fill="#B3B7C7" cx="140.5" cy="137" rx="39.5" ry="6"></ellipse>
            <g id="Group-5">
                <path d="M131.5,149 C137.746054,149 138.400559,136.953074 140.297813,118.503702 C141.504079,106.77367 149.145158,88.1140929 147,75 C142.297813,46.2539062 153.271934,32.5660626 150.170125,19.4282488 C148.031314,10.3692495 142.862042,3 131.5,3 C123.603887,3 113.698654,6.59314895 110.722909,11.2157433 C103.206874,22.8913341 114,46.5137576 114,75 C114,90.4435309 122.495151,106.751425 123.699377,118.476362 C125.595832,136.941172 125.250862,149 131.5,149 Z" id="Oval-11" fill="#BAC4F6"></path>
                <path d="M135.5,146.5 C132.598908,121.877878 130.965369,104.566553 130.599381,94.5660242 C130.050399,79.5652312 132.963841,77.0580598 132.164069,55.3464601 C131.630888,40.8720602 130.242865,30.4232402 128,24" id="Line-15" stroke="#FFFFFF" stroke-width="2" opacity="0.800892857" stroke-linecap="square"></path>
                <path d="M77.0442201,163.336077 C84.2239219,163.336077 101.067658,131.237823 101.067658,92.025606 C101.067658,52.8133888 90.9057581,-2.32627732 72.6560979,17.2440872 C50.0508064,41.4852946 69.5871262,36.5862429 74.0442201,63.8595149 C75.572858,73.2133576 77.0442201,94.5993942 77.0442201,104.613421 C77.0442201,143.825638 69.8645184,163.336077 77.0442201,163.336077 Z" id="Oval-9" fill="#BAC4F6" transform="translate(81.510722, 88.251316) rotate(-43.000000) translate(-81.510722, -88.251316) "></path>
                <path d="M42.5,50.5 C47.5132933,48.8699207 59.3816332,57.6317857 78.1050199,76.785595 C96.8284065,95.9394043 113.960067,116.844206 129.5,139.5" id="Line-17" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M155.281006,152.144255 C162.116643,152.144255 178.153197,121.584207 178.153197,84.2511084 C178.153197,72.6051871 184.354199,51.8242671 182.531201,39.8465879 C178.51025,13.4276595 163.058175,0.233079666 151.10317,13.0532528 C129.581164,36.1327785 143.297279,29.7382802 147.540781,55.7045685 C148.996164,64.6101585 153.500382,80.3852665 153.500382,89.9194035 C153.500382,127.252502 148.445368,152.144255 155.281006,152.144255 Z" id="Oval-9-Copy-2" fill="#E9EDFD" transform="translate(161.092971, 80.123972) scale(-1, 1) rotate(-20.000000) translate(-161.092971, -80.123972) "></path>
                <path d="M180.5,34.5 C181.290102,21.4892162 175.746138,28.9223292 163.868108,56.7993391 C157.546037,71.6368512 150.532373,85.3308057 144.827114,101.881203 C141.023608,112.914801 138.581237,128.787733 137.5,149.5" id="Line-20" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M60.3426107,183.894782 C69.2498271,183.894782 90.1463498,156.072081 90.1463498,122.083011 C90.1463498,88.0939419 67.5408019,29.4364067 54.8986583,57.2625442 C45.0326912,78.978146 51.0912584,74.0282851 56.6207779,97.6687014 C58.5172227,105.776593 67.8616068,124.363423 67.8616068,133.043561 C67.8616068,167.032631 51.4353942,183.894782 60.3426107,183.894782 Z" id="Oval-9-Copy" fill="#BAC4F6" transform="translate(69.895982, 116.944107) rotate(-71.000000) translate(-69.895982, -116.944107) "></path>
                <path d="M24.5,109.5 C22.4991751,103.669523 35.0833631,105.49608 62.2525641,114.979669 C79.4278854,120.974828 92.103247,119.378882 106.278649,126.191831 C111.777518,128.834684 120.517968,134.937407 132.5,144.5" id="Line-19" stroke="#FFFFFF" stroke-width="2" opacity="0.595424107" stroke-linecap="square"></path>
                <path d="M169.495543,159.559977 C178.40276,159.559977 199.299282,131.737276 199.299282,97.7482062 C199.299282,85.7856682 202.004463,66.329956 197.824033,53.1018748 C190.126639,28.745108 172.2443,14.8950801 164.051591,32.9277389 C154.185624,54.6433407 160.244191,49.6934798 165.77371,73.3338961 C167.670155,81.4417878 177.014539,100.028618 177.014539,108.708756 C177.014539,142.697825 160.588327,159.559977 169.495543,159.559977 Z" id="Oval-9-Copy-3" fill="#BAC4F6" transform="translate(179.479352, 92.134636) scale(-1, 1) rotate(-43.000000) translate(-179.479352, -92.134636) "></path>
                <path d="M213.5,60.5 C209.183273,60.8948914 201.740861,65.4428024 191.172763,74.1437328 C175.320617,87.1951284 177.797205,83.2393994 161.560337,103.262986 C150.735758,116.612043 142.715646,131.024381 137.5,146.5" id="Line-21" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M81.1425752,168.630026 C85.1025169,165.536181 98.2051544,147.96348 98.2051544,111.236918 C98.2051544,74.5103552 86.0176544,46.7369177 70.0176544,46.7369177 C54.0176544,46.7369177 59.5351666,70.3889964 66.8400325,93.0530589 C69.6371249,101.731312 78.9791535,122.814465 81.0032985,132.88325 C84.2653955,149.110029 78.6989273,170.539213 81.1425752,168.630026 Z" id="Oval-10" fill="#E9EDFD" transform="translate(78.936475, 107.743055) rotate(-52.000000) translate(-78.936475, -107.743055) "></path>
                <path d="M39.5,84.5 C46.5402399,84.832105 55.9862242,87.7506309 67.8379528,93.2555776 C85.6155457,101.512998 79.9127462,96.6348296 100.298442,112.739947 C113.888906,123.476691 125.956092,135.063376 136.5,147.5" id="Line-18" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M194.823347,177.534556 C197.785465,175.220296 209.085075,165.125173 213.530819,146.109724 C215.496552,137.701844 211.555235,124.000271 211.555235,111.853141 C211.555235,72.2337887 199.639103,43.8487815 182.378853,43.8487815 C165.118604,43.8487815 168.053621,58.2764613 175.933859,82.7256721 C183.814096,107.174883 191.693317,118.61017 193.876895,129.472028 C197.395933,146.976919 192.187224,179.594121 194.823347,177.534556 Z" id="Oval-10-Copy-2" fill="#E9EDFD" transform="translate(191.881132, 110.738214) scale(-1, 1) rotate(-52.000000) translate(-191.881132, -110.738214) "></path>
                <path d="M237.5,84.5 C231.839918,82.6252532 222.387737,84.7837206 209.143456,90.9754021 C189.277034,100.262925 198.344222,96.9653923 174.587666,113.911421 C158.749962,125.208774 147.387407,137.071634 140.5,149.5" id="Line-22" stroke="#FFFFFF" stroke-width="2" opacity="0.785044643" stroke-linecap="square"></path>
                <path d="M102.095097,154.049614 C106.979303,150.233654 123.140143,128.559423 123.140143,83.2607523 C123.140143,37.9620813 108.108037,3.70622602 88.3735811,3.70622602 C68.639125,3.70622602 75.4444439,32.8787829 84.4542911,60.8327171 C87.9042347,71.5365054 99.4267255,97.5405402 101.923313,109.959415 C105.946795,129.97358 99.0810936,156.404412 102.095097,154.049614 Z" id="Oval-10-Copy" fill="#E9EDFD" transform="translate(99.374086, 78.951409) rotate(-21.000000) translate(-99.374086, -78.951409) "></path>
                <path d="M70.5,27.5 C77.9697854,36.2141564 84.664658,44.2949462 90.5846178,51.7423694 C99.4645574,62.9135043 102.309139,65.8595669 108.078018,74.773869 C113.846897,83.6881711 108.232283,69.1486166 118.500716,94.8794382 C125.346337,112.033319 129.012765,128.573507 129.5,144.5" id="Line-16" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M193.001521,189.153265 C198.929205,189.153265 212.83568,162.652399 212.83568,130.278124 C212.83568,97.9038493 204.210737,49.7003434 189.378612,68.5372278 C174.540517,87.3816949 180.150684,86.5530431 183.830536,109.070321 C185.092606,116.793013 193.001521,132.403088 193.001521,140.670839 C193.001521,173.045114 187.073837,189.153265 193.001521,189.153265 Z" id="Oval-9-Copy-4" fill="#BAC4F6" transform="translate(196.248002, 126.727326) scale(-1, 1) rotate(-73.000000) translate(-196.248002, -126.727326) "></path>
                <path d="M234.5,116.5 C229.435614,115.997419 220.043174,117.148484 206.322678,119.953197 C185.741934,124.160265 185.201799,123.9696 168.145826,131.063968 C156.775178,135.793546 148.226569,140.93889 142.5,146.5" id="Line-23" stroke="#FFFFFF" stroke-width="2" opacity="0.733426339" stroke-linecap="square"></path>
            </g>
            <g id="Group-4" transform="translate(101.000000, 137.000000)">
                <path d="M0,0 C11.7955729,2 24.5052083,3 38.1289062,3 C51.7526042,3 65.3763021,2 79,0 L71.2109375,75.3409091 C61.9375,77.1136364 51.8945312,78 41.0820312,78 C30.2695313,78 19.4570312,77.1136364 8.64453125,75.3409091 L0,0 Z" id="Rectangle-9" fill="#FCDCCF"></path>
                <path d="M59.2621996,2.19791001 C63.6483775,1.86496527 70.2276443,1.1323286 79,0 L71.2109375,75.3409091 C63.3055851,76.5844933 57.2271178,77.3450382 52.9755357,77.6225437 L59.2621996,2.19791001 Z" id="Rectangle-9" fill="#ECC6B6"></path>
                <path d="M0,0 C10.9588352,1.33333333 23.3572727,2 37.1953125,2 C51.0333523,2 64.9682481,1.33333333 79,0 L76.7909585,21.3672948 L40.573652,23.0934676 L2.38711382,20.8047516 L0,0 Z" id="Rectangle-9" fill="#F3B096"></path>
            </g>
        </g>
    </g>
</g>
</svg>
</div>

</div>
<div class="menu-btn closed"> 
    <div class="menu-line"></div>
    <div class="menu-line"></div>
    <div class="menu-line"></div>
</div>
<div class="main">
    <div class="msg">
        <div class="msg-text"></div>
        <div class="msg-bar"></div>
    </div>
    <div class="motto">
        <p> //sunny forever<br />
            while(life&lt;end){<br />
               love++;<br />
               beAwesome :)} </p>
     </div>
     <div class="main-content">
    <div class="set-wrapper">
    <ul class="set-menu">
        <div id="set-btn" class="set-button"><</div>
        <li class="search-container">
            <input id="search-input" class="local-search" placeholder="搜索..." type="search" >
            <span class="search-ico"></span>
        </li>
        <li id="toggle-theme">
        主题：<span class="theme-ico sun"></span>
        </li>
        <li class="set-size">
            <span id="increase-font-size">+</span>
            <span class="font-size-num"></span>
            <span id="reduce-font-size">-</span>
        </li>
        <li id="clear-back">清除背景</li>
        <li id="disable-back">禁用背景</li>
    </ul> 
</div>
    <div class="result-container">
        <div id="search-result" class="display-result"></div>
    </div>
    <div class="toc-wrapper"><div class="toc-btn">目 录</div><div class="toc-box"><!--tocBox用于容纳生成在toc外的目录--><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E4%BF%A1%E6%81%AF"><span class="toc-number">1.</span> <span class="toc-text">查看文件与目录信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ls%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E4%BF%A1%E6%81%AF-list"><span class="toc-number">1.1.</span> <span class="toc-text">ls查看文件与目录信息(list)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ls%E5%91%BD%E4%BB%A4%E7%9A%84%E8%BE%93%E5%87%BA%E4%BF%A1%E6%81%AF"><span class="toc-number">1.2.</span> <span class="toc-text">ls命令的输出信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#stat%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E4%B8%8E%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81"><span class="toc-number">1.3.</span> <span class="toc-text">stat查看文件与文件系统状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dir%E4%B8%8Evdir%E5%88%97%E5%87%BA%E7%9B%AE%E5%BD%95%E4%BF%A1%E6%81%AF"><span class="toc-number">1.4.</span> <span class="toc-text">dir与vdir列出目录信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dircolors%E8%AE%BE%E7%BD%AEls%E5%91%BD%E4%BB%A4%E7%9A%84%E6%89%93%E5%8D%B0%E6%A0%B7%E5%BC%8F"><span class="toc-number">1.5.</span> <span class="toc-text">dircolors设置ls命令的打印样式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C"><span class="toc-number">2.</span> <span class="toc-text">目录操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#mkdir%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95-make-directory"><span class="toc-number">2.1.</span> <span class="toc-text">mkdir创建目录(make directory)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cd%E5%88%87%E6%8D%A2%E7%9B%AE%E5%BD%95-change-directory"><span class="toc-number">2.2.</span> <span class="toc-text">cd切换目录(change directory)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pwd%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E8%B7%AF%E5%BE%84-print-working-directory"><span class="toc-number">2.3.</span> <span class="toc-text">pwd查看当前路径(print working directory)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rmdir%E5%88%A0%E9%99%A4%E7%A9%BA%E7%9B%AE%E5%BD%95-remove-empty-directory"><span class="toc-number">2.4.</span> <span class="toc-text">rmdir删除空目录(remove empty directory)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">3.</span> <span class="toc-text">文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#touch%E5%88%9B%E5%BB%BA%E7%A9%BA%E6%96%87%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">touch创建空文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6"><span class="toc-number">3.2.</span> <span class="toc-text">查看文件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#cat%E6%9F%A5%E7%9C%8B%E7%9F%AD%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">3.2.1.</span> <span class="toc-text">cat查看短文件内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#tac%E5%8F%8D%E5%90%91%E6%9F%A5%E7%9C%8B%E7%9F%AD%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">3.2.2.</span> <span class="toc-text">tac反向查看短文件内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#more%E6%9F%A5%E7%9C%8B%E9%95%BF%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">3.2.3.</span> <span class="toc-text">more查看长文件内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#head-amp-tail%E4%BB%85%E6%9F%A5%E7%9C%8B%E5%89%8D%E5%87%A0%E8%A1%8C%E6%88%96%E5%90%8E%E5%87%A0%E8%A1%8C"><span class="toc-number">3.2.4.</span> <span class="toc-text">head&amp;tail仅查看前几行或后几行</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#nl%E6%98%BE%E7%A4%BA%E8%A1%8C%E5%8F%B7%E4%B8%8E%E5%86%85%E5%AE%B9-number-line"><span class="toc-number">3.2.5.</span> <span class="toc-text">nl显示行号与内容(number line)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rm%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95-remove"><span class="toc-number">3.3.</span> <span class="toc-text">rm删除文件与目录(remove)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shred%E8%A6%86%E7%9B%96%E4%B8%8E%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-number">3.4.</span> <span class="toc-text">shred覆盖与删除文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#unlink%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-number">3.5.</span> <span class="toc-text">unlink删除文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cp%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95-copy"><span class="toc-number">3.6.</span> <span class="toc-text">cp复制文件或目录(copy)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dd%E6%8C%89%E6%8C%87%E5%AE%9A%E5%9D%97%E5%A4%A7%E5%B0%8F%E5%A4%8D%E5%88%B6%E5%92%8C%E5%A4%84%E7%90%86%E6%96%87%E4%BB%B6"><span class="toc-number">3.7.</span> <span class="toc-text">dd按指定块大小复制和处理文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#install%E5%A4%8D%E5%88%B6%E7%A8%8B%E5%BA%8F%E6%96%87%E4%BB%B6"><span class="toc-number">3.8.</span> <span class="toc-text">install复制程序文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mv%E7%A7%BB%E5%8A%A8%E6%96%87%E4%BB%B6%E4%B8%8E%E9%87%8D%E5%91%BD%E5%90%8D-move"><span class="toc-number">3.9.</span> <span class="toc-text">mv移动文件与重命名(move)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E6%8C%87%E5%AE%9A%E6%A0%BC%E5%BC%8F%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"><span class="toc-number">3.10.</span> <span class="toc-text">以指定格式打开文件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#od%E4%BB%A5%E6%8C%87%E5%AE%9A%E8%BF%9B%E5%88%B6%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6-octal-dump"><span class="toc-number">3.10.1.</span> <span class="toc-text">od以指定进制打开文件(octal dump)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#base64%E8%A7%A3%E7%A0%81%E4%B8%8E%E7%BC%96%E7%A0%81%E6%96%87%E4%BB%B6"><span class="toc-number">3.10.2.</span> <span class="toc-text">base64解码与编码文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#basenc%E5%A4%9A%E6%A0%BC%E5%BC%8F%E8%A7%A3%E7%A0%81%E4%B8%8E%E7%BC%96%E7%A0%81%E6%96%87%E4%BB%B6"><span class="toc-number">3.10.3.</span> <span class="toc-text">basenc多格式解码与编码文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA%E5%86%85%E5%AE%B9"><span class="toc-number">3.11.</span> <span class="toc-text">格式化输出内容</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#fmt%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%A1%8C-format"><span class="toc-number">3.11.1.</span> <span class="toc-text">fmt格式化行(format)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#pr%E6%96%87%E4%BB%B6%E5%88%86%E9%A1%B5%E4%B8%8E%E6%89%93%E5%8D%B0-print"><span class="toc-number">3.11.2.</span> <span class="toc-text">pr文件分页与打印(print)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#fold%E5%BC%BA%E5%88%B6%E6%96%87%E6%9C%AC%E8%A1%8C%E6%8D%A2%E8%A1%8C"><span class="toc-number">3.11.3.</span> <span class="toc-text">fold强制文本行换行</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#split%E6%96%87%E4%BB%B6%E6%8B%86%E5%88%86"><span class="toc-number">3.11.4.</span> <span class="toc-text">split文件拆分</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#csplit%E6%8C%89%E5%86%85%E5%AE%B9%E6%8B%86%E5%88%86%E6%96%87%E4%BB%B6"><span class="toc-number">3.11.5.</span> <span class="toc-text">csplit按内容拆分文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E6%96%87%E4%BB%B6"><span class="toc-number">3.12.</span> <span class="toc-text">合并文件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#paste%E5%90%88%E5%B9%B6%E6%96%87%E4%BB%B6"><span class="toc-number">3.12.1.</span> <span class="toc-text">paste合并文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#join-%E6%8C%89%E5%AD%97%E6%AE%B5%E5%90%88%E5%B9%B6%E6%96%87%E4%BB%B6"><span class="toc-number">3.12.2.</span> <span class="toc-text">join 按字段合并文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#comm%E9%80%90%E8%A1%8C%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E6%8E%92%E5%BA%8F%E5%A5%BD%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">3.13.</span> <span class="toc-text">comm逐行比较两个排序好的文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%A0%A1%E9%AA%8C"><span class="toc-number">3.14.</span> <span class="toc-text">文件校验</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#sum%E8%AE%A1%E7%AE%97%E6%96%87%E4%BB%B6%E5%8D%A0%E7%94%A8%E7%9A%84%E7%A3%81%E7%9B%98%E5%9D%97%E6%95%B0%E4%B8%8E%E6%A0%A1%E9%AA%8C%E5%92%8C"><span class="toc-number">3.14.1.</span> <span class="toc-text">sum计算文件占用的磁盘块数与校验和</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#cksum%E8%AE%A1%E7%AE%97%E6%96%87%E4%BB%B6%E6%A0%A1%E9%AA%8C%E5%92%8C"><span class="toc-number">3.14.2.</span> <span class="toc-text">cksum计算文件校验和</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#md5-b2-sha1%E6%A0%A1%E9%AA%8C%E6%96%87%E4%BB%B6"><span class="toc-number">3.14.3.</span> <span class="toc-text">md5&#x2F;b2&#x2F;sha1校验文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#file%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.15.</span> <span class="toc-text">file查看文件类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sync%E5%B0%86%E7%BC%93%E5%AD%98%E5%86%99%E5%85%A5%E7%A3%81%E7%9B%98"><span class="toc-number">3.16.</span> <span class="toc-text">sync将缓存写入磁盘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#truncate%E6%89%A9%E5%A4%A7%E6%88%96%E7%BC%A9%E5%B0%8F%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F"><span class="toc-number">3.17.</span> <span class="toc-text">truncate扩大或缩小文件大小</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84"><span class="toc-number">4.</span> <span class="toc-text">处理文件路径</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#basename%E6%8F%90%E5%8F%96%E6%96%87%E4%BB%B6%E5%90%8D"><span class="toc-number">4.1.</span> <span class="toc-text">basename提取文件名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dirname%E6%8F%90%E5%8F%96%E8%B7%AF%E5%BE%84"><span class="toc-number">4.2.</span> <span class="toc-text">dirname提取路径</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pathchk%E6%A3%80%E6%9F%A5%E6%96%87%E4%BB%B6%E5%90%8D%E6%98%AF%E5%90%A6%E6%9C%89%E6%95%88"><span class="toc-number">4.3.</span> <span class="toc-text">pathchk检查文件名是否有效</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#realpath%E8%8E%B7%E5%8F%96%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%E4%B8%8E%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84"><span class="toc-number">4.4.</span> <span class="toc-text">realpath获取绝对路径与相对路径</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#find%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE"><span class="toc-number">5.</span> <span class="toc-text">find文件查找</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E5%90%8D%E6%9F%A5%E6%89%BE"><span class="toc-number">5.1.</span> <span class="toc-text">根据文件名查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E5%AE%8C%E6%95%B4%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE"><span class="toc-number">5.2.</span> <span class="toc-text">根据完整路径查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E6%9F%A5%E6%89%BE"><span class="toc-number">5.3.</span> <span class="toc-text">根据文件类型查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E7%AC%A6%E5%8F%B7%E9%93%BE%E6%8E%A5"><span class="toc-number">5.4.</span> <span class="toc-text">处理符号链接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E7%A1%AC%E9%93%BE%E6%8E%A5"><span class="toc-number">5.5.</span> <span class="toc-text">处理硬链接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F%E6%9F%A5%E6%89%BE"><span class="toc-number">5.6.</span> <span class="toc-text">根据文件大小查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%98%AF%E5%90%A6%E4%B8%BA%E7%A9%BA"><span class="toc-number">5.7.</span> <span class="toc-text">测试是否为空</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E6%89%80%E6%9C%89%E8%80%85%E3%80%81%E6%89%80%E5%B1%9E%E7%BB%84%E6%9F%A5%E6%89%BE"><span class="toc-number">5.8.</span> <span class="toc-text">根据文件所有者、所属组查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E6%9F%A5%E6%89%BE"><span class="toc-number">5.9.</span> <span class="toc-text">根据文件权限查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E6%97%B6%E9%97%B4%E5%B1%9E%E6%80%A7%E6%9F%A5%E6%89%BE"><span class="toc-number">5.10.</span> <span class="toc-text">根据时间属性查找</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E5%A4%A9%E6%95%B0%E5%8C%B9%E9%85%8D"><span class="toc-number">5.10.1.</span> <span class="toc-text">按天数匹配</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E5%88%86%E9%92%9F%E5%8C%B9%E9%85%8D"><span class="toc-number">5.10.2.</span> <span class="toc-text">按分钟匹配</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%97%B6%E9%97%B4%E5%9F%BA%E5%87%86"><span class="toc-number">5.10.3.</span> <span class="toc-text">修改时间基准</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E6%96%87%E4%BB%B6%E7%9A%84%E6%97%B6%E9%97%B4%E6%88%B3"><span class="toc-number">5.10.4.</span> <span class="toc-text">比较两个文件的时间戳</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E9%95%BF%E6%9C%9F%E6%9C%AA%E4%BD%BF%E7%94%A8%E6%96%87%E4%BB%B6"><span class="toc-number">5.10.5.</span> <span class="toc-text">查找长期未使用文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E5%AE%9A%E6%90%9C%E7%B4%A2%E6%B7%B1%E5%BA%A6"><span class="toc-number">5.11.</span> <span class="toc-text">指定搜索深度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#depth%E4%BC%98%E5%85%88%E5%A4%84%E7%90%86%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-number">5.12.</span> <span class="toc-text">-depth优先处理目录下的内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%B3%E8%BF%87%E7%9B%AE%E5%BD%95"><span class="toc-number">5.13.</span> <span class="toc-text">跳过目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#noleaf%E7%A6%81%E7%94%A8%E5%9F%BA%E4%BA%8E%E7%A1%AC%E9%93%BE%E6%8E%A5%E7%9A%84%E4%BC%98%E5%8C%96"><span class="toc-number">5.14.</span> <span class="toc-text">-noleaf禁用基于硬链接的优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%90%9C%E7%B4%A2"><span class="toc-number">5.15.</span> <span class="toc-text">基于文件系统搜索</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="toc-number">5.16.</span> <span class="toc-text">逻辑运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E6%96%87%E4%BB%B6%E5%90%8E%E6%89%A7%E8%A1%8C%E6%93%8D%E4%BD%9C"><span class="toc-number">5.17.</span> <span class="toc-text">匹配文件后执行操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E6%96%87%E4%BB%B6%E5%90%8D"><span class="toc-number">5.17.1.</span> <span class="toc-text">打印文件名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%89%93%E5%8D%B0"><span class="toc-number">5.17.2.</span> <span class="toc-text">格式化打印</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%A6%E7%BB%86%E6%89%93%E5%8D%B0%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF"><span class="toc-number">5.17.3.</span> <span class="toc-text">详细打印文件信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#quit%E7%AB%8B%E5%8D%B3%E9%80%80%E5%87%BA"><span class="toc-number">5.17.4.</span> <span class="toc-text">-quit立即退出</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E6%89%BE%E5%88%B0%E6%96%87%E4%BB%B6%E7%9A%84%E6%89%A7%E8%A1%8C%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4"><span class="toc-number">5.17.5.</span> <span class="toc-text">对找到文件的执行其他命令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#locate-%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE%E5%B7%A5%E5%85%B7"><span class="toc-number">6.</span> <span class="toc-text">locate 文件查找工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E4%B8%8E%E8%A7%A3%E5%8E%8B%E7%BC%A9"><span class="toc-number">7.</span> <span class="toc-text">压缩与解压缩</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E5%8E%8B%E7%BC%A9%E4%B8%8E%E8%A7%A3%E5%8E%8B-gz%E6%A0%BC%E5%BC%8F"><span class="toc-number">7.1.</span> <span class="toc-text">文件的压缩与解压(.gz格式)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E6%89%93%E5%8C%85%E3%80%81%E5%8E%8B%E7%BC%A9%E4%B8%8E%E8%A7%A3%E5%8E%8B-tar-gz%E6%A0%BC%E5%BC%8F"><span class="toc-number">7.2.</span> <span class="toc-text">文件的打包、压缩与解压(.tar.gz格式)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E4%B8%8E%E5%8E%8B%E7%BC%A9"><span class="toc-number">7.2.1.</span> <span class="toc-text">打包与压缩</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E5%8E%8B"><span class="toc-number">7.2.2.</span> <span class="toc-text">解压</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zip%E6%A0%BC%E5%BC%8F%E7%9A%84%E5%8E%8B%E7%BC%A9%E4%B8%8E%E8%A7%A3%E5%8E%8B"><span class="toc-number">7.3.</span> <span class="toc-text">.zip格式的压缩与解压</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bz2%E3%80%81-tar-bz2%E6%A0%BC%E5%BC%8F%E7%9A%84%E5%8E%8B%E7%BC%A9%E4%B8%8E%E8%A7%A3%E5%8E%8B"><span class="toc-number">7.4.</span> <span class="toc-text">.bz2、.tar.bz2格式的压缩与解压</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%8E%8B%E7%BC%A9"><span class="toc-number">7.4.1.</span> <span class="toc-text">1. 压缩</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E8%A7%A3%E5%8E%8B"><span class="toc-number">7.4.2.</span> <span class="toc-text">2. 解压</span></a></li></ol></li></ol></li></ol></div></div>
        <div class="article">
        <h1 class="title">Linux文件操作</h1>
        <div class="art-info">
            <div><span><span class="iconfont icon-zishu-jzl"></span>字数：38379</span>
            <span><span class="iconfont icon-riqi"></span>写于：2021-12-29</span></div>
            <div><span><span class="iconfont icon-zuixinnew3"></span>最新更新：2021-12-29</span>
            <span><span class="iconfont icon-shijian"></span>阅读本文预计花费您110分钟</span></div>
        </div>
        <div class="art-content">
        <h3 id="查看文件与目录信息"><a href="#查看文件与目录信息" class="headerlink" title="查看文件与目录信息"></a>查看文件与目录信息</h3><h4 id="ls查看文件与目录信息-list"><a href="#ls查看文件与目录信息-list" class="headerlink" title="ls查看文件与目录信息(list)"></a>ls查看文件与目录信息(list)</h4><p><span class="strong">ls [选项] [文件或目录]</span></p>
<ul>
<li>如果不指定文件或目录名，操作对象为当前目录，默认情况下，命令会列出该目录中文件的文件名，且会省略以<span class="tips">.</span>开头的文件，列出的文件默认按文件名a-z排序</li>
<li>-a (all)显示所有文件，包括隐藏文件(以.开头的文件)以及.(表示当前目录)和..(表示上一级目录)</li>
<li>-A (almost-all)显示所有文件，包括以.开头的文件，但忽略.和..</li>
<li>-B (ignore-backups)列出文件信息时，忽略以<span class="tips">~</span>结尾的文件，这类文件通常是备份文件</li>
<li>-l (long)显示详细信息，默认情况下ls命令只显示当前目录包含文件的文件名，该选项会详细显示文件所有信息，但文件大小只以byte形式显示，命令可以直接简写为 ll</li>
<li>-d (directory)查看当前目录信息而非展示目录所含文件</li>
<li>-h (human-readable)常与l参数一起使用，文件大小会被换算为KB、MB等人类方便读的单位，但该选项会将文件大小四舍五入输出，如：2000bytes输出为2k(2048bytes)，1536bytes输出为1.5k，需要准确字节数应当使用-l选项或其他命令(stat、du等)</li>
<li>-H 在查看链接文件时，显示链接的原文件信息而不是链接文件本身的信息</li>
<li>-I 模式：忽略与模式相匹配文件名的信息，这里的模式指shell支持的模式，而非所有正则表达式语法，如：ls -I ‘.[^.]’ 表示忽略所有以.号开头，文件名长度为2个字符的文件</li>
<li>-i (iNode)查看文件i节点，并打印于最左侧</li>
<li>-F (classify)对不同文件进行特殊标识，该标识会添加于文件名后，/表示目录，*表示可执行文件，@表示链接文件，|表示管道文件，=表示套接字文件，普通文件不添加任何标识</li>
<li>-&zwnj;-time-style=’+时间格式’：按指定格式输出文件的时间信息，时间格式参考date命令</li>
<li>-R (recursive)递归显示，列出目录下的子目录和子文件，输出较长</li>
<li>-c 显示文件元信息(文件权限、所有者、硬链接等)最后被修改的时间，需要搭配-l使用，默认情况下，ls -l命令显示的时间是文件内容最后被修改的时间，-c选项会将该时间替换为文件元信息最后被修改的时间</li>
<li>-u (use) 需要搭配-l使用，类似于-c，将时间替换为文件最后被访问的时间(但许多文件系统为了优化性能，只会在某些情况下更新文件最后访问时间atime，以减少对磁盘的写入，因此默认情况下文件系统很少记录atime，该选项输出信息可能是错误的)</li>
<li>-&zwnj;-time=birth 打印文件的创建时间，需要搭配-l使用，类似于-u，该时间可能不会被记录</li>
<li>-t (time)按文件最后被修改时间(默认)顺序排序，最新的在前，如果命令有-c、-u、-&zwnj;-time=birth选项，则排序依据修改为对应的记录</li>
<li>-S (size)按文件大小排序，大的排前</li>
<li>-U 不进行任何排序，按文件在目录中的存放顺序列出文件，如果目录中有大量文件，ls默认按文件名排序时可能消耗时间，该选项可以加快命令执行</li>
<li>-&zwnj;-sort=width 按文件名长短排序，短的排前</li>
<li>-X 按文件的扩展名(最后一个.号之后的字符视为扩展名)排序</li>
<li>-r (reverse)反向排序，以上排序相关的输出信息都可以用该选项反序输出</li>
</ul>
<div class="show">示例：
1. 列出当前目录所含非隐藏文件或文件夹
 ls
该命令会返回当前目录下的非隐藏文件和文件夹
config.json  data  modifyPort.sh
2. 列出当前目录所含非隐藏文件或文件夹详细信息
ll #该命令等价于ls -l
该命令会输出目录总大小，以及每个目录和文件的详细信息
total 12
-rw-r--r-- 1 root root   52 Aug 18 14:14 config.json
drwxr-xr-x 2 root root 4096 Aug 18 14:15 data
-rwxr-xr-x 1 root root  869 Aug 18 14:15 modifyPort.sh
3. 列出当前目录的详细信息，而非当前目录所包含文件的信息
ls -ld
当前目录以.号表示
drwxr-xr-x 3 root root 4096 Aug 18 14:15 .
4. 列出当前目录的详细信息，包括隐藏文件，文件的大小换算为KB、MB等单位，并标识出可执行文件、目录等
#ls -alhF
./表示当前目录，../表示上一级目录，文件名后添加*表示该文件是可执行文件，文件名后添加/表示这是一个目录，且会用不同的颜色高亮显示
total 20K
drwxr-xr-x   3 root root 4.0K Aug 18 14:15 ./
dr-xr-xr-x. 20 root root 4.0K Aug 18 14:13 ../
-rw-r--r--   1 root root   52 Aug 18 14:14 config.json
drwxr-xr-x   2 root root 4.0K Aug 18 14:15 data/
-rwxr-xr-x   1 root root  869 Aug 18 14:15 modifyPort.sh*
</div>

<p>ls命令还可以搭配一些正则表达式只显示自己想看的文件信息</p>
<div class="show">1.使用?表示一个字符，*表示零个或多个字符，如输出my_开头的文件信息
# ls -l my_*
2. 使用[ ]包裹多个字符，如：查看是否有fall,fbll,fcll,fdll文件
# ls -l f[a-d]ll
3. 使用!排除不需要的内容，如不查看fall，但查看其余的文件
# ls -l f[!a]ll
</div>

<h4 id="ls命令的输出信息"><a href="#ls命令的输出信息" class="headerlink" title="ls命令的输出信息"></a>ls命令的输出信息</h4><p>使用<span class="tips">ls -l</span>等命令列出文件详细信息，文件信息格式类似于</p>
<div style="text-align:center;"><span class="tips">&emsp;drwxr-xr-x.  &nbsp;6&nbsp; root&nbsp; root&nbsp; 4.0K &nbsp;Feb&nbsp;  9&nbsp; 11:53&nbsp; home&emsp;</span></div>

<h6 id="字段一"><a href="#字段一" class="headerlink" title="字段一"></a>字段一</h6><p><strong>第1位</strong></p>
<p>第1位表示文件类型</p>
<ul>
<li>-为普通文件</li>
<li>b为块设备文件，如：硬盘、光盘等（Block Device）</li>
<li>c为字符设备文件，如：鼠标、键盘设备文件（Character Device）</li>
<li>C为连续存储文件，支持高性能读写</li>
<li>d为目录</li>
<li>D为门文件，一种特殊的进程通信机制，Linux中不常见，常见于Solaris系统</li>
<li>l为链接文件</li>
<li>M为已离线迁移的文件，表示文件已经被迁移到离线存储(如磁盘)，如果需要访问需要恢复到在线存储，该文件类型常见于超级计算机</li>
<li>n为特殊的网络文件</li>
<li>s为套接字文件，一般用于数据连接，常见于 /var/run目录</li>
<li>p为管道文件(FIFO)，用于进程间通讯</li>
<li>s为套接字文件（Socket）</li>
<li>?其他类型的文件</li>
</ul>
<p><strong>第2-10位</strong></p>
<p>3位为一组，分别为文件所有者、所属组、其他用户的读、写、执行权限</p>
<ul>
<li>r为可读</li>
<li>w为可写</li>
<li>x为可执行</li>
<li>-为无权限</li>
</ul>
<p>权限除了可以使用rwx表示，在chmod等命令中还可以用权限值来表示：当用户拥有rwx权限时，表示为二进制的111，换算为十进制，其权值为7，当用户拥有r-x权限时，表示为101，权值为5，以此类推，巧妙使用二进制和十进制的转换来更简洁地表示权限</p>
<p><strong>第11位 .号</strong> </p>
<p>.号为安装有SElinux的系统特有，这个点表示该文件带有“SELinux的安全上下文”</p>
<h6 id="其他字段"><a href="#其他字段" class="headerlink" title="其他字段"></a>其他字段</h6><p>之后的字段分别表示</p>
<ul>
<li>该文件的硬链接总数</li>
<li>文件所属用户</li>
<li>文件所属组</li>
<li>文件大小</li>
<li>文件最后一次修改时间，无修改则为创建时间</li>
<li>文件名</li>
</ul>
<h4 id="stat查看文件与文件系统状态"><a href="#stat查看文件与文件系统状态" class="headerlink" title="stat查看文件与文件系统状态"></a>stat查看文件与文件系统状态</h4><p>stat命令以另外一种方式显示文件的详细信息，输出内容包含大小、权限、时间戳、inode 号等，并且可用自定义这些信息的输出样式，此外，它还可以用来查看文件所属文件系统的状态。<br><span class="strong">stat [选项] 文件名1 文件名2…</span></p>
<ul>
<li>默认情况下，命令会输出文件的信息，如果文件是链接文件，默认输出链接文件本身的信息</li>
<li>-f 输出文件所属文件系统的状态，而非文件本身信息</li>
<li>-L 输出链接文件所指向的文件的状态，而不是符号链接文件本身的状态</li>
<li>-t 以简洁形式在一行上打印信息，方便其他程序解析。在不同版本的GNU coreutils包中，该选项的输出可能不同，可能输出<span class="tips">文件名、文件大小(字节)、文件占用块数、文件权限(八进制或十六进制)、设备主编号、设备次编号、十六进制设备号、Inode编号、硬链接数、文件所有者UID、文件所属组GID、最近访问时间戳atime、最近修改时间戳mtime、最近文件属性修改时间戳ctime、文件创建的时间戳btime、IO块大小</span>等</li>
<li>-c “格式字符串”：按照指定格式显示信息，末尾会自动添加换行，因此如果指定多个文件，则会输出多行信息</li>
<li>-&zwnj;-printf=”格式字符串”：按照指定格式显示信息，且不自动添加换行符</li>
</ul>
<p>格式字符串支持以下字符：</p>
<div class="table">

<table>
<thead>
<tr>
<th>格式字符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>%a</td>
<td>八进制形式显示的文件权限</td>
</tr>
<tr>
<td>%A</td>
<td>文本形式显示的文件权限（如 -rw-r–r–）</td>
</tr>
<tr>
<td>%s</td>
<td>文件大小（以字节为单位）</td>
</tr>
<tr>
<td>%n</td>
<td>文件名</td>
</tr>
<tr>
<td>%N</td>
<td>文件名，如果是符号链接，则显示指向的文件</td>
</tr>
<tr>
<td>%F</td>
<td>文件类型（如 “regular file”、”directory” 等）</td>
</tr>
<tr>
<td>%u</td>
<td>文件所有者的用户ID</td>
</tr>
<tr>
<td>%g</td>
<td>文件所有者的组ID</td>
</tr>
<tr>
<td>%y</td>
<td>最后修改时间</td>
</tr>
<tr>
<td>%z</td>
<td>文件状态最后更改时间</td>
</tr>
</tbody></table>
</div>

<div class="show">1. 查看文件详细信息
stat modifyPort.sh 
该命令的输出值通常包含以下内容：
  File: ‘modifyPort.sh’
  Size: 869           Blocks: 8          IO Block: 4096   regular file
Device: fd01h/64769d    Inode: 1572872     Links: 1
Access: (0755/-rwxr-xr-x)  Uid: (    0/    root)   Gid: (    0/    root)
Access: 2024-08-18 14:15:45.866848485 +0800
Modify: 2024-08-18 14:15:45.866848485 +0800
Change: 2024-08-18 14:15:45.866848485 +0800
 Birth: -
其中：
file:文件名
size:文件大小
Blocks:文件占用的数据块数量，文件系统中的数据以块的形式存储，块的大小取决于文件系统
IO Block：文件系统的I/O块大小，也就是读写文件时的块大小
Device：文件所在设备的ID号，分别用十六进制和十进制表示
Inode：文件的inode号
Links：链接到该inode的文件名数量，值为1表示这个文件没有其他硬链接
Access：文件当前权限
Uid：文件所有者的ID号和用户名
Gid：文件所有者所属组GID号和组名
Access：文件最后访问时间
Modify：文件最后修改时间
Change：文件元数据(如文件权限、所有者)最后一次被更改的时间
Birth：文件的创建时间。某些文件系统不支持记录文件的创建时间，会显示为 -
2. 可用手动指定文件信息输出形式
stat -c "%n:文件大小%s 文件权限%a 文件类型%F 文件修改时间%y" modifyPort.sh 
输出值：
modifyPort.sh:文件大小869 文件权限755 文件类型regular file 文件修改时间2024-08-11 18:06:36.179331522 +0800
</div>

<p>Linux系统可能挂载了多个文件系统（例如，根文件系统 /、用户主目录 /home、临时文件系统 /tmp 等），而每个文件系统可能具有不同的属性和状态。stat支持通过-f选项确定文件所属的文件系统，从而提供与该文件系统相关的信息</p>
<div class="show">查看根目录所属文件系统的状态
stat -f /
返回值通常包括以下信息：
 File: "/"
    ID: 518e09c078cb0c63 Namelen: 255     Type: ext2/ext3
Block size: 4096       Fundamental block size: 4096
Blocks: Total: 10288203   Free: 9569130    Available: 9093203
Inodes: Total: 2621440    Free: 2556389
其中：
File:所指定的文件名或路径
ID:文件系统的标识符，这个十六进制 ID 对应于特定的文件系统类型
Namelen:文件系统允许的最大文件名长度(字符数)
Type:文件系统类型的名称，可能为 ext2/ext3等值
Block size:文件系统块的大小（以字节为单位）
Fundamental block size:基础块大小，通常与文件系统块大小相同
Blocks:Total为文件系统中的总块数，Free为文件系统中未分配的块数，Available为当前用户可用的块数（可能会比 Free 少，因为一些块可能被保留给超级用户）
Inodes:Total为文件系统中的总inode 数，每个inode表示一个文件或目录。Free为未使用的 inode 数，意味着还可以创建的文件或目录数量
</div>

<h4 id="dir与vdir列出目录信息"><a href="#dir与vdir列出目录信息" class="headerlink" title="dir与vdir列出目录信息"></a>dir与vdir列出目录信息</h4><p>这两个命令的功能囊括在了ls命令中，选项和ls命令相似，但ls命令功能更为强大，因此这两个命令极少使用</p>
<p><span class="strong">dir [选项] [目录名]</span>简要列出目录内容，等价于 ls -C -b</p>
<p><span class="strong">vdir [选项] [目录名]</span>详细列出目录内容，等价于 ls -l -b</p>
<h4 id="dircolors设置ls命令的打印样式"><a href="#dircolors设置ls命令的打印样式" class="headerlink" title="dircolors设置ls命令的打印样式"></a>dircolors设置ls命令的打印样式</h4><p>在使用ls、dir等命令输出文件和目录详细信息时，可以将不同类型的文件用不同的颜色进行标识，这些样式被定义于<span class="tips">LS_COLORS</span>环境变量中，在打印文件类型、权限等属性时，shell会根据此变量中的规则为输出着色。<span class="tips">dircolors</span>命令可以用来读取<br>LS_COLORS变量当前的系统默认配置，也可以用来生成修改LS_COLORS环境变量的配置字符串。默认情况下，LS_COLORS的值内置于shell中，部分Linux发行版可能会将配置写于<span class="tips">/etc/DIR_COLORS</span>文件中，用户也可以自定义输出样式，写于<span class="tips">~/.dircolors</span>文件中，然后通过dircolors程序解析该配置文件，dircolors程序会更新LS_COLORS变量的值，用户可以在.bashrc中载入该文件，使其在启动shell时生效</p>
<p><span class="strong">dircolors [选项] [文件名]</span></p>
<ul>
<li>-b (默认值)输出Bourne shell格式的代码，代码包括LS_COLORS变量的值和export LS_COLORS语句，用户可以在修改LS_COLORS变量值后将该输出写入.bashrc或.bash_profile文件中</li>
<li>输出 C shell 格式的代码，用于 .cshrc 中</li>
<li>如果指定了文件，dircolors命令会读取该文件并将其解析为LS_COLORS变量值</li>
<li>-p 输出当前的样式配置，这些配置会输出为方便阅读和修改的格式，通常需要通过dircolors程序解析为LS_COLORS变量值，才能使用</li>
<li>-&zwnj;-print-ls-colors 将LS_COLORS变量的每个颜色设置都打印在单独的行上，并且该行会输出为对应的颜色，方便即时查看当前的颜色设置</li>
</ul>
<div class="show">正常情况下，LS_COLORS变量的值很长，直接修改变量值极其不方便，因此通常会通过以下步骤修改ls等命令的输出样式
1. 如果系统本身提供了 /etc/DIR_COLORS 文件，可以直接修改该文件的内容
如果系统未提供该文件，用户可以通过以下命令生成
dircolors -p &gt; ~/.dircolors
该命令会新建.dircolors文件并将当前的默认配置写入该文件中，该文件通常包括以下三部分内容：
第一部分为终端定义，用于定义哪些终端类型支持颜色显示，并根据终端类型决定是否启用颜色，通常使用系统默认即可，内容示例：
COLORTERM ?*
TERM Eterm
TERM ansi
第二部分用来定义不同文件类型的标识样式，用户可以自定义，如：
DIR 01;34   #目录的标识样式，01表示加粗高亮，34为蓝色
LINK 01;36  #链接文件的标识样式，01表示加粗高亮，36为青色
.....
第三部分为不同后缀文件的输出样式，用户可以自定义，如：
.tar 01;31  #后缀为.tar的文件标识样式为高亮(01)红色(31)
....
.jpg 01;35  #后缀为.jpg的文件标识样式为高亮(01)品红(35)
....
<span class="text-red">颜色代码参考终端样式控制</span>
2. 编辑完.dircolors文件后，在用户的 ~/.bashrc 或 ~/.profile 文件中，添加以下行以应用颜色设置
eval "$(dircolors ~/.dircolors)"
该命令中：
dircolors ~/.dircolors(等价于dircolors -b ~/.dircolors)命令会生成新的LS_COLORS值，并生成export LS_COLORS语句
eval命令会执行上述生成的命令
由此，下次终端启动就会使用用户定义的标识样式
3. 如果需要更改立即生效，可以重新加载配置文件
source ~/.bashrc
</div>

<h3 id="目录操作"><a href="#目录操作" class="headerlink" title="目录操作"></a>目录操作</h3><h4 id="mkdir创建目录-make-directory"><a href="#mkdir创建目录-make-directory" class="headerlink" title="mkdir创建目录(make directory)"></a>mkdir创建目录(make directory)</h4><p><span class="strong">mkdir [参数] 目录名</span></p>
<ul>
<li>可以指定多个目录名来同时创建多个目录</li>
<li>-p 递归创建目录，可以在不存在的目录下创建新目录</li>
<li>-m 权限：创建目录同时指定目录的权限，接收的参数支持权限的八进制值表示形式(如755)，也支持符号模式(如：移除组的写权限g-w)</li>
<li>-v 每创建一个目录，打印一条消息</li>
</ul>
<div class="show">示例：
# mkdir tmp/test/newdir
在tmp目录下创建test目录及其子目录newdir，如果tmp目录下没有test目录，将提示无test目录，此时可以用-p参数
# mkdir -p tmp/test/newdir
将在tmp下新建test，再在test下新建newdir目录
# mkdir newdir1 newdir2 newdir3
在当前路径下新建三个目录
</div>

<h4 id="cd切换目录-change-directory"><a href="#cd切换目录-change-directory" class="headerlink" title="cd切换目录(change directory)"></a>cd切换目录(change directory)</h4><p><span class="strong">cd 目录名</span></p>
<ul>
<li>目录名可以用<span class="tips"> Tab键 </span>补全</li>
<li><span class="tips"> . </span>表示当前目录，因此<span class="tips">cd .</span>不会改变当前目录，<span class="tips">cd ./dir</span>则会进入当前目录下的dir目录中，等价于<span class="tips">cd dir</span></li>
<li><span class="tips"> .. </span>表示上一级目录，可以使用<span class="tips">cd .. </span>返回上一级目录，必要时可以使用多个双点符来向上切换多层目录</li>
<li><span class="tips">cd -</span>会返回上一个工作目录，这个值被保存在<span class="tips">OLDPWD</span>环境变量中</li>
</ul>
<div class="shell">[root@vultr etc]# cd ../../etc</div>

<h4 id="pwd查看当前路径-print-working-directory"><a href="#pwd查看当前路径-print-working-directory" class="headerlink" title="pwd查看当前路径(print working directory)"></a>pwd查看当前路径(print working directory)</h4><p><span class="strong"> pwd [选项]</span></p>
<ul>
<li>-L (默认)输出当前路径(PWD环境变量中存储的值)，该路径中可能存在符号链接</li>
<li>-P 输出实际的物理路径，不含任何符号链接，符号链接会被替换为其所指向源文件的路径</li>
</ul>
<h4 id="rmdir删除空目录-remove-empty-directory"><a href="#rmdir删除空目录-remove-empty-directory" class="headerlink" title="rmdir删除空目录(remove empty directory)"></a>rmdir删除空目录(remove empty directory)</h4><p><span class="strong">rmdir [选项] 目录名1 目录名2.. </span></p>
<ul>
<li>只能用于删除空目录，系统不允许使用该命令删除有内容的目录</li>
<li>-&zwnj;-ignore-fail-on-non-empty 忽略每次删除非空目录时的失败信息，常用于删除多个目录或递归删除时，避免因为尝试删除某个非空目录失败而命令退出</li>
<li>-p 递归删除目录，如：rmdir -p a/b/c 会依次删除目录c、目录b、目录a，但如果其中一个目录非空，会导致命令失败退出，因此通常搭配-&zwnj;-ignore-fail-on-non-empty选项</li>
<li>-v 每成功删除一个目录就打印其消息</li>
</ul>
<h3 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h3><h4 id="touch创建空文件"><a href="#touch创建空文件" class="headerlink" title="touch创建空文件"></a>touch创建空文件</h4><p>该命令原本是用来修改文件的访问或修改时间戳的，当指定的文件不存在时，命令会创建一个空文件</p>
<p><span class="strong"> touch 文件名1 文件名2…</span></p>
<ul>
<li>默认情况下，命令会将文件最后一次访问时间(atime)和修改时间(mtime)更改为当前时间，如果文件不存在，则会新建一个空文件</li>
<li>如果文件名中有空格符，需要使用””</li>
<li>-c 如果文件不存在，不新建文件，也不进行警告</li>
<li>-a 仅更改文件最后一次被访问的时间(atime)</li>
<li>-m 仅更改文件最后一次被修改的时间(mtime)</li>
<li>-d 时间：将文件的atime和ctime更改为指定时间，而不是当前时间，该选项接受的时间格式很多，参考date命令，如：-d ‘2021-07-10 14:20:59 +0800’</li>
<li>-t [[cc]yy]mmddhhmm[.ss]：将文件的atime和ctime更改为指定时间，该选项的格式要求较为严格，要按照指定格式书写</li>
<li>-h 修改链接文件的时间戳</li>
<li>-r 文件：使用该文件的atime和ctime作为更改的数据来源，该选项可以搭配-d选项，如：-r old.txt -s ‘-60 seconds’表示以old.txt文件的atime和mtime为原点，比该时间早60秒作为指定文件的atime和mtime</li>
</ul>
<div class="show">示例：
# touch file1 file2
创建两个文件file1、file2
# touch "fi le"
创建一个名为fi le的文件
</div>

<h4 id="查看文件"><a href="#查看文件" class="headerlink" title="查看文件"></a>查看文件</h4><h5 id="cat查看短文件内容"><a href="#cat查看短文件内容" class="headerlink" title="cat查看短文件内容"></a>cat查看短文件内容</h5><p><span class="strong"> cat [选项] [文件名]</span></p>
<ul>
<li>-n &emsp;显示行号(从1开始)，包括空白行</li>
<li>-b &emsp;空白行行不显示行号，只为有文本的行添加行号(从1开始)</li>
<li>-s &emsp;删除连续的多个空白行，只显示一行空白行</li>
<li>-T &emsp;使用^T替换所有制表符<br>从头到尾正常显示文件</li>
</ul>
<h5 id="tac反向查看短文件内容"><a href="#tac反向查看短文件内容" class="headerlink" title="tac反向查看短文件内容"></a>tac反向查看短文件内容</h5><p><span class="strong"> tac [选项] [文件名]</span><br>cat反写，从尾到头显示文件(文件末行为第一行)</p>
<ul>
<li>-s “分隔符”：指定分隔符，默认是换行符</li>
<li>-b 将分隔符添加到记录开头</li>
<li>-r 将分隔符字符串识别为正则表达式</li>
</ul>
<div class="show">这里只示例指定分隔符的情况，假设test.txt文件内容为
AAAA,BBBB,CCCC
执行命令：tac -s "," test.txt
输出为：
CCCC       #由于原文件CCCC后有换行符，因此这里CCCC之后也输出一个换行符
BBBB,AAAA,
执行命令：tac -b -s "," test.txt
输出为：
,CCCC     #分隔符将被添加到记录开头
,BBBBAAAA
</div>

<h5 id="more查看长文件内容"><a href="#more查看长文件内容" class="headerlink" title="more查看长文件内容"></a>more查看长文件内容</h5><p>该命令来源于util-linux软件包<br><span class="strong"> more [文件名]</span><br>分页显示文件，一般用于查看长文件</p>
<ul>
<li>空格或f &emsp;向下翻页</li>
<li>b     &emsp;&emsp; &emsp;&nbsp;向上翻页</li>
<li>Enter  &emsp;&emsp;换行</li>
<li>q或Q &emsp;&emsp;退出</li>
</ul>
<p><span class="strong"> less [文件名]</span><br>该命令来源于less软件包，其命令名来源于”less is more”，因此也比more提供了更多高级功能，如使用上下箭头翻页，它同样会分页显示文件，一般用于查看长文件，支持关键字搜索</p>
<ul>
<li> 空格或f或PageDown&emsp;向下翻页</li>
<li>b或PageUp&emsp;&emsp;&emsp;&emsp;&emsp;向上翻页</li>
<li>上下方向键&emsp;&emsp;&emsp;&emsp;&emsp;逐行翻动</li>
<li>可以使用<span class="tips"> /关键字 </span>进行关键字搜索，使用<span class="tips"> n </span>跳转到下一个高亮显示的关键字</li>
<li>q或Q &emsp;&emsp;退出</li>
</ul>
<h5 id="head-amp-tail仅查看前几行或后几行"><a href="#head-amp-tail仅查看前几行或后几行" class="headerlink" title="head&amp;tail仅查看前几行或后几行"></a>head&amp;tail仅查看前几行或后几行</h5><p><span class="strong"> head [选项] 文件1 文件2….</span>查看文件前几行内容</p>
<ul>
<li>默认显示前10行</li>
<li>如果指定多个文件，在输出每个文件内容前会以<span class="tips">==&gt;文件名&lt;==</span>形式输出文件名</li>
<li>-c [-]num：显示前num个字节，如果num值前添加了-，则输出每个文件除了最后num个字节以外的所有内容，可以使用K(KiB)、KB、MB、GB、GiB等单位</li>
<li>-n [-]num：显示前num行内容，如果num值前添加了-，则输出每个文件除了最后num行以外的所有行</li>
<li>-q 不打印文件名</li>
<li>-z 一些二进制文件或特殊文本文件会以空格作为数据分隔符，该选项用于处理这类文件时，以空格作为字段分隔符(默认是以换行符作为分隔符)，如<span class="tips">head -z -n 2</span>会输出文件的前两个以空格分隔的字段，而不是前两行</li>
</ul>
<p><span class="strong"> tail [选项] 文件名</span></p>
<ul>
<li>-n 行号：仅仅查看文件末几行，不使用 -n 指定行号，默认显示后10行</li>
<li>-c 字节数：查看文件最后几个字节</li>
<li>-f 动态显示文件末尾，常用于查看日志文件实时变更(-&zwnj;-follow)</li>
<li>-q 不输出文件名</li>
</ul>
<h5 id="nl显示行号与内容-number-line"><a href="#nl显示行号与内容-number-line" class="headerlink" title="nl显示行号与内容(number line)"></a>nl显示行号与内容(number line)</h5><p><span class="strong"> nl [选项] [文件名]</span><br>用于给文本文件内容添加行号并输出到屏幕，如果不指定文件名，nl命令会从标准输入读取内容</p>
<ul>
<li>-b 样式：指定行号的样式(-&zwnj;-body-numbering=style)，样式支持以下值：<blockquote>
<blockquote>
<ul>
<li>a 对所有行编号</li>
<li>t 只对非空行进行编号</li>
<li>n 不对行进行编号</li>
</ul>
</blockquote>
</blockquote>
</li>
<li>-w 值：指定行号的宽度，默认为6位</li>
<li>-i 值：设置行号的递增值，可以为负数,默认为1</li>
<li>-l 值：将连续的空行视为一个空行，并只对最后一个空行添加行号，如果连续空行的数量少于该值，则不进行编号(这里的空行指不含任意字符的行，甚至不包括空格、制表符的行)</li>
<li>-n 格式：指定行号的格式(-&zwnj;-number-format=format)，格式支持以下值，默认为rn:<blockquote>
<blockquote>
<ul>
<li>ln 左对齐，无前导0</li>
<li>rn 右对齐，无前导0</li>
<li>rz 右对齐，有前导零</li>
</ul>
</blockquote>
</blockquote>
</li>
<li>-s 字符串：指定一个字符串添加到行号与文本行之间(默认为tab)<br>常用组合选项：</li>
<li>-bt:对非空的文本行进行标号，包含注释行(仅限于使用#号注释的行，一些编程语言里的注释方式不会被识别)，空行除外(默认)</li>
<li>-ba:对所有行都进行标号</li>
<li>-bn:不标出行号，但文本左侧仍会为行号预留空格</li>
<li>-nln:行号左对齐，无前导0</li>
<li>-nrn:行号右对齐，无前导0(默认)</li>
<li>-nrz:行号右对齐，有前导0</li>
</ul>
<div class="show">(1) nl data.txt 默认情况下，nl命令会在左侧标出行号，并且行号宽度为6位，空白行将被跳过   
      1 AAAA
      2 BBBB<br>
      3 CCCC
(2) nl -ba data.txt 会为包括空白行在内的行标出行号
      1 AAAA
      2 BBBB
      3
      4 CCCC
(3) nl -nln data.txt 行号会左对齐，无前导0
1         AAAAA
2         BBBBB<br>
3         CCCCC
(4)nl -nrn data.txt 行号会右对齐，无前导0
     1    AAAAA
     2    BBBBB<br>
     3    CCCCC
(5)nl -nrz data.txt 行号右对齐，行号前会补0
000001    AAAAA
000002    BBBBB<br>
000003    CCCCC
(6)nl -ba -i2  data.txt
     1    AAAAA
     3    BBBBB
     5    
     7    CCCCC
</div>

<h4 id="rm删除文件与目录-remove"><a href="#rm删除文件与目录-remove" class="headerlink" title="rm删除文件与目录(remove)"></a>rm删除文件与目录(remove)</h4><p><span class="strong"> rm [选项] 文件或目录名</span></p>
<ul>
<li>默认情况下，命令不会删除目录，可以指定多个文件同时删除</li>
<li>-d 如果指定的目录是空目录，则删除</li>
<li>-r 删除目录，该选项会递归删除指定的目录及其目录中的内容</li>
<li>-i 询问用户是否删除</li>
<li>-f 强制删除，不再询问用户确认，且如果指定了删除不存在的文件，也不会提示用户</li>
<li>-I 如果使用-r选项，或者删除3个以上文件时，询问用户是否继续执行该命令</li>
<li>-v 在删除每个文件前打印其文件名</li>
<li>-&zwnj;-one-file-system 只删除当前(所指定文件名)文件系统中的内容，该选项用于当使用-r选项进行递归删除时，避免意外删除另一文件系统的内容</li>
</ul>
<div class="shell">1. 依次进行询问
# rm -i f?ll
2. 删除以-开头的文件
rm -&zwnj;- -filename
</div>

<h4 id="shred覆盖与删除文件"><a href="#shred覆盖与删除文件" class="headerlink" title="shred覆盖与删除文件"></a>shred覆盖与删除文件</h4><p>通过rm命令删除的磁盘文件通常可以通过一些技术手段进行恢复，当需要完全删除文件时，可以使用shred命令，该命令会对删除的文件区域进行重写覆盖，以防止数据恢复。</p>
<p>该命令在一些文件系统中效果可能有限，由于SSD使用了不同的数据存储和垃圾回收机制，该命令在固态硬盘中可能无效</p>
<p><span class="strong">shred [选项] [文件名]</span></p>
<ul>
<li>默认情况下，命令会使用系统随机生成的数据覆盖文件，默认会覆盖3次，覆盖完默认不删除</li>
<li>-n 值：指定覆盖的次数，默认为3</li>
<li>-u 覆盖后删除文件</li>
<li>-z 在进行最后一次覆盖时，使用数据0填充文件，这样文件在删除前看起来像是空的而不是随机数据，可以一定程度隐藏覆盖操作</li>
<li>-v 打印覆盖的详细操作，如覆盖的进度</li>
<li>-&zwnj;-random-source=文件：从指定文件读取随机字节进行覆盖，默认从Linux内核获取随机数据</li>
<li>-s 值：粉碎文件的前指定个字节，默认会粉碎整个文件，可以使用k、M等单位</li>
</ul>
<h4 id="unlink删除文件"><a href="#unlink删除文件" class="headerlink" title="unlink删除文件"></a>unlink删除文件</h4><p>这是系统提供的unlink函数的最小接口，功能和rm命令一样，比较简洁，通常用于C语言等程序<br><span class="strong">unlink 文件名</span></p>
<ul>
<li>一次只能删除一个文件，没有功能性选项</li>
<li>在某些系统中(如：GNU系统)，该命令只能删除文件而不能删除目录</li>
</ul>
<h4 id="cp复制文件或目录-copy"><a href="#cp复制文件或目录-copy" class="headerlink" title="cp复制文件或目录(copy)"></a>cp复制文件或目录(copy)</h4><p><span class="strong"> cp [选项] [源文件或目录] [目标文件或目录]</span></p>
<ul>
<li>注意！默认情况下，如果cp命令指定目标文件名，而该路径下已经有一个同名文件，则原本存在的文件会被cp命令覆盖</li>
<li>复制时可以同时指定多个源文件，此时最后一个参数”目标文件”需要指定一个已经存在的目录，cp命令不会自行创建目录</li>
<li>-r或-R 递归复制目录，如果目录下有链接文件，则默认只复制链接文件本身</li>
<li>-p 保留文件属性，如文件修改时间、文件所有者、权限等</li>
<li>-a 归档模式，尽可能多地保留原有的文件结构和属性，等价于-dpr</li>
<li>-i 需要覆盖已有文件前询问用户</li>
<li>-f 强制覆盖文件，即使目标文件是只读的，它也会尝试删除后再复制</li>
<li>-b 覆盖已有文件前先备份该已有文件，默认以~作为后缀名，备份方式参考Linux命令的通用备份方案</li>
<li>-S “字符串”：通常与-b选项搭配使用，备份文件时使用指定的字符串作为文件后缀名</li>
<li>-n 不覆盖已存在的文件</li>
<li>-u 只在原文件比目标文件更新，或目标文件不存在时复制文件</li>
<li>-v 详细模式，详细输出每个复制的文件或目录名</li>
<li>复制单个链接文件时，命令默认会将链接指向的源文件内容复制到目标文件中，而不会去复制链接文件本身。如果链接文件已经失效(未找到它的源文件)，cp命令会直接报错以避免安全风险。</li>
<li>在使用-r或-a进行递归复制时，cp命令只会复制链接文件本身，而不会复制链接文件的源文件内容</li>
<li>-d 将链接文件复制为符号链接文件，而不是复制源文件的内容</li>
<li>-H 链接文件名：在使用-r或-a进行递归复制时，复制该链接文件的源文件内容</li>
<li>-l 为文件创建硬链接，相较于ln命令，该选项会保留文件的属性（如时间戳和权限）</li>
<li>-L 复制链接文件时，复制链接指向的目标文件，而不是符号链接本身</li>
<li>-p [值]：保留文件的指定属性，该选项的取值可以是：mode(保留与访问权限相关的属性)、ownership(保留所有者和组，需要为该组成员才有权限)、timestamps(尽可能保留上次访问和上次修改的时间)、links(在目标文件中保留源文件的所有链接)、context(保留文件的 SELinux 安全上下文)、xattr(保留文件的扩展属性)、all(保留所有)</li>
</ul>
<div class="show">示例：
# cp /file/test1 /file/test2 /newdir
复制文件test1和test2到newdir目录中
# cp -p install.log /tem
复制install.log文件到tem目录中并保留install.log文件信息(不使用-p参数则文件最后修改时间为执行复制操作的当前时间)
# cp -r /usr/dir /tem/newdir
复制目录dir到tem目录下并命名为newdir
</div>

<h4 id="dd按指定块大小复制和处理文件"><a href="#dd按指定块大小复制和处理文件" class="headerlink" title="dd按指定块大小复制和处理文件"></a>dd按指定块大小复制和处理文件</h4><p>dd命令支持按块大小读取和写入数据，并支持格式转换，适合从U盘等设备按块读取数据复制到指定位置，如：将整个分区复制到U盘或者从U盘备份(虽然dd支持该功能，但文件备份通常使用一些专用的备份脚本)</p>
<p><span class="strong">dd 参数</span></p>
<ul>
<li>该命令选项较少，通常使用参数修改命令的行为</li>
<li>if=文件路径：指定输入文件路径，默认从stdin读取</li>
<li>of=文件路径：指定输出位置，默认输出到stdout</li>
<li>ibs=值：设置每次输入的块大小，默认为512bytes</li>
<li>obs=值：设置每次输出的块大小，默认为512bytes</li>
<li>bs=值：指定每次输入和输出的块大小，这会覆盖ibs和obs的值</li>
<li>count=值：指定块数量</li>
<li>status=值:指定输出状态，可以取值：progress(持续显示传输进度)，noxfer(不显示传输完毕后的最终统计数据)，none(只输出错误信息，屏蔽其他信息)</li>
<li>iflag=值：按照指定要求访问输入文件，可取值参考oflag的取值</li>
<li>oflag=值：按照指定要求访问输出文件，值可以为：<blockquote>
<blockquote>
<ul>
<li>append 以附加形似写入文件，这样即使其他进程正在写入此文件，dd 命令也会将其附加到文件的当前内容，只对oflag有效</li>
<li>direct 通过I/O直接读取或写入数据，而不使用缓冲区</li>
<li>noatime 不更新文件的访问时间戳<br>更多标志参考GNU文档</li>
</ul>
</blockquote>
</blockquote>
</li>
</ul>
<div class="show">1.从/dev/zero文件读取数据，清空磁盘或分区
dd if=/dev/zero of=/dev/sda bs=1M
2. 测试磁盘读写速度
测试写速度并计时
time dd if=/dev/zero of=testfile bs=64M count=64 oflag=direct
测试读速度并计时，要确保testfile文件存在
time dd if=testfile of=/dev/null bs=64M iflag=direct
3. bs的值不宜太大
dd if=/dev/zero of=testfile bs=2G count=1
虽然该命令合法，但在读写时，dd命令会尝试一次性分配2GiB内存来缓冲该数据，有可能会因内存不足而失败，或者超出系统的I/O缓冲区限制
</div>

<h4 id="install复制程序文件"><a href="#install复制程序文件" class="headerlink" title="install复制程序文件"></a>install复制程序文件</h4><p>install用来将文件(通常是程序文件)复制到指定位置，并且可以在复制时指定文件的权限、所有者等属性，该命令通常用来在Makefile中将程序复制到其目标目录中</p>
<p><span class="strong">install [选项] [源文件] [目标文件]</span></p>
<ul>
<li>-b 复制时如果目标文件已存在，则覆盖，覆盖前进行备份</li>
<li>-S “字符串”：备份时指定文件后缀名</li>
<li>-C 比较源文件和目标文件的内容，如果目标内容、所有者、组、权限和SELinux上下文没有变化，不进行复制，否则复制文件</li>
<li>-g 组ID或组名：设置已安装文件或目录的所属组，默认为当前组</li>
<li>-o 用户ID或用户名：设置已安装文件或目录的所有者，默认为root用户</li>
<li>-m 值：设置文件权限，选项接收的值支持权限的八进制值表示形式(如755)，也支持符号模式(如：所有者增加执行权限u+x，移除组的写权限g-w)</li>
<li>-v 详细模式，详细输出每个复制的文件或目录名</li>
<li>-&zwnj;-preserve-context 保留文件和目录的SELinux安全上下文</li>
<li>-p 设置文件的最后被访问时间和最后被修改的时间，如果不使用该选项，则这两个时间默认为程序文件的安装时间</li>
</ul>
<h4 id="mv移动文件与重命名-move"><a href="#mv移动文件与重命名-move" class="headerlink" title="mv移动文件与重命名(move)"></a>mv移动文件与重命名(move)</h4><p><span class="strong"> mv 原文件或目录 目标文件或目录</span></p>
<ul>
<li>注意！如果指定的目标文件路径下已经有同名文件，mv命令默认会直接覆盖该文件，源文件或目录可以有多个来同时移动多个文件</li>
<li>-b 如果目标文件已存在，则进行备份</li>
<li>-S “字符串”：指定备份文件的后缀名</li>
<li>-f 目标文件存在时，直接覆盖，不询问用户</li>
<li>-i 目标文件存在时，覆盖前询问用户</li>
<li>-n 目标文件存在时，不覆盖已经存在的文件，视为操作失败</li>
<li>-u 仅当目标文件比已有文件新(做了改动)，或目标文件不存在时移动文件</li>
<li>-&zwnj;-exchange 交换原目录和目标目录中的文件(GNU拓展)</li>
<li>-v 移动文件前打印每个文件的名字</li>
</ul>
<h4 id="以指定格式打开文件"><a href="#以指定格式打开文件" class="headerlink" title="以指定格式打开文件"></a>以指定格式打开文件</h4><h5 id="od以指定进制打开文件-octal-dump"><a href="#od以指定进制打开文件-octal-dump" class="headerlink" title="od以指定进制打开文件(octal dump)"></a>od以指定进制打开文件(octal dump)</h5><p>该命令用于查看二进制文件或文本文件的十六进制、八进制、ASCII等数据表示形式，可以直观地查看文件的非打印字符或二进制内容，以及文件内容在文件中的地址</p>
<p><span class="strong">od [选项] 文件名</span></p>
<ul>
<li>-A 进制：指定文件地址的进制表示形式，可以取以下值：<blockquote>
<blockquote>
<ul>
<li>n 不显示地址</li>
<li>o 以八进制显示地址(默认)</li>
<li>x 以十六进制显示地址</li>
<li>d 以十进制显示地址</li>
<li>a 以字母方式显示地址</li>
</ul>
</blockquote>
</blockquote>
</li>
<li>-t 格式：指定文件内容的输出格式，可以取以下值：<blockquote>
<blockquote>
<ul>
<li>o 以八进制格式显示</li>
<li>x 以十六进制格式显示</li>
<li>d 以十进制格式显示</li>
<li>c 以字符方式显示</li>
<li>f 以浮点数格式显示</li>
</ul>
</blockquote>
</blockquote>
</li>
<li>-N 长度length：显示文件的前length个字节的数据，可以使用MB、GB、KiB、GiB等单位指定字节数</li>
<li>-j 长度skip：跳过文件的前skip个字节，从此处开始显示数据，可以使用MB、GB、KiB、GiB等单位指定字节数</li>
<li>-v 显示所有数据，默认压缩相同的连续行为一行</li>
</ul>
<h5 id="base64解码与编码文件"><a href="#base64解码与编码文件" class="headerlink" title="base64解码与编码文件"></a>base64解码与编码文件</h5><p>将从文件或标准输入读取的数据转换为 base64 编码形式，可以用来将二进制数据转换为可打印的文本数据</p>
<p><span class="strong">base32 [选项] [文件名]</span></p>
<p><span class="strong">base64 [选项] [文件名]</span></p>
<ul>
<li><span class="strong">-d</span> 解码数据，不使用该选项为编码数据(-&zwnj;-decode)</li>
<li>-w 值：指定每行输出字符数，达到该长度后换行，默认值为76，值为0则表示不换行(-&zwnj;-wrap=number)</li>
<li>-i 解码时忽略换行符和无法识别的字节，而尝试尽可能解码剩余的字节，数据包在网络中传输时，可能会被分割和损坏，该选项会忽略数据分割形成的换行符和传输损坏的数据</li>
</ul>
<div class="show">如：/dev/urandom是特殊的设备文件，该文件可以用来生成随机数，但该文件返回值是二进制数据，直接查看会解析成乱码，需要将其转为文本数据
head -c 10 /dev/urandom | base64
输出值为：
KhXWNVbInIhkxw==
</div>

<h5 id="basenc多格式解码与编码文件"><a href="#basenc多格式解码与编码文件" class="headerlink" title="basenc多格式解码与编码文件"></a>basenc多格式解码与编码文件</h5><p>basenc是一个较新的命令，可能在部分旧的GNU Coreutils包中没有包含该命令，该命令相较于base64支持更多的编码和解码格式</p>
<p><span class="strong">basenc [选项] [文件名]</span></p>
<ul>
<li>-d(解码)、-w、-i选项和base64命令相同</li>
<li>-&zwnj;-base64:使用 Base64 编码或解码数据</li>
<li>-&zwnj;-base32:使用 Base32 编码或解码数据</li>
<li>-&zwnj;-base16:使用 Base16（十六进制）编码或解码数据</li>
<li>-&zwnj;-base32hex：使用拓展十六进制字母表base32形式进行解码或编码</li>
<li>-&zwnj;-base64url:标准的 Base64 编码中，使用了+和/字符，它们在URLs和某些文件系统中可能有特殊含义，该选项会将+替换为-，将/替换为_，去除编码末尾的填充字符=，以此编码或解码为文件和 URL 安全的 base64 格式</li>
<li>-&zwnj;-z85:使用 Z85 编码或解码数据，编码时输入长度必须是 4的倍数;解码时，输入长度必须是5的倍数</li>
<li>-&zwnj;-base2lsbf:编码为二进制形式，每个字节的最低有效位在前</li>
<li>-&zwnj;-base2msbf：编码为二进制字符串形式，每个字节的最高有效位在前</li>
</ul>
<h4 id="格式化输出内容"><a href="#格式化输出内容" class="headerlink" title="格式化输出内容"></a>格式化输出内容</h4><h5 id="fmt格式化行-format"><a href="#fmt格式化行-format" class="headerlink" title="fmt格式化行(format)"></a>fmt格式化行(format)</h5><p>fmt命令用来将文件内容按指定的宽度输出，它会拆分太长的句子，并根据选项决定是否保留其原有格式。该命令只能用来格式化处理ASCII文本，无法格式化处理中文等文本。</p>
<p><span class="strong">fmt [选项] 文件名</span></p>
<ul>
<li>默认情况下，该命令每行输出的长度为75个字符(包含换行，因此实际输出长度为74)</li>
<li>-w 长度：指定每行文本的字符长度，该值将包含换行符，实际输出的文本字符为指定的值-1</li>
<li>-s 只拆分长行，而不将短行合并到一起以达到每行输出指定字符的要求，默认情况下会合并短行</li>
<li>-c 保留每行的缩进格式，如：原文件首行缩进2字符，该选项会保留这个缩进</li>
<li>-t 在处理带有标签或行号等段落时，保留这些行的缩进等格式</li>
<li>-u 文本中包含多个连续空格符时，删减到只保留一个空格符</li>
<li>-p “字符”：仅格式化以该字符开头的行，如：-p “#”将只格式化以#开头的行(如：注释行)</li>
</ul>
<div class="show">e.g.假设文件test.txt中有以下内容
1. AAA AA AA A AAAAA
2. This is a very long line that we want to format using the fmt command. The fmt command is useful for text formatting.
3. BBB BB BB B BBBBB
默认情况下，fmt命令会合并行，每行输出75字符
1. AAA AA AA A AAAAA 2. This is a very long line that we want to format
using the fmt command. The fmt command is useful for text formatting.
3. BBB BB BB B BBBBB
-w选项可以指定每行的输出字符数量
fmt -w 30 test.txt
输出的行包含换行符在内为30个字符
1. AAA AA AA A AAAAA 2. This
is a very long line that we
want to format using the fmt
command. The fmt command is
useful for text formatting.
3. BBB BB BB B BBBBB
-s选项可以保留短行不合并，拆分长行
1. AAA AA AA A AAAAA
2. This is a very long line that we want to format using the fmt
command. The fmt command is useful for text formatting.
3. BBB BB BB B BBBBB
-t选项可以保留编号等格式
fmt -t test.txt
输出为：
1. AAA AA AA A AAAAA
2. This is a very long line that we want to format using the fmt
   command. The fmt command is useful for text formatting.
3. BBB BB BB B BBBBB
</div>

<h5 id="pr文件分页与打印-print"><a href="#pr文件分页与打印-print" class="headerlink" title="pr文件分页与打印(print)"></a>pr文件分页与打印(print)</h5><p>pr 命令用于将单个或多个文件格式化为打印机打印格式，它可以将文件分成页，并支持添加页眉、页脚功能</p>
<p><span class="strong">pr [选项] 文件名</span></p>
<ul>
<li>-l 行数：指定每一页的行数，默认值为66行，如果一页不满足66行，则会填充空白行</li>
<li>-w 宽度：指定每行的字符数，默认值为72个字符，</li>
<li>-d 双倍行距输出，这会在每行之间插入一个空行，更容易阅读</li>
<li>-h “页眉字符串”:设置页眉，默认情况下，pr命令会在每页顶部显示文件名和日期</li>
<li>-o 缩进数：指定每行的缩进空格数</li>
<li>-n 为每行添加行号</li>
<li>-m 并列显示多个文件的内容。如果提供了多个文件，此选项可以将它们的内容并列显示在同一页上</li>
<li>-t 禁用页眉和页脚输出</li>
<li>-F 在每页末尾添加换页符，适用于需要在打印时进行分页的情况</li>
</ul>
<h5 id="fold强制文本行换行"><a href="#fold强制文本行换行" class="headerlink" title="fold强制文本行换行"></a>fold强制文本行换行</h5><p>fold命令用于强制限制每行文本的输出长度，将文件的每一行按指定宽度分割为多行，相较于fmt命令，fold命令只会强制在固定宽度处换行，不会对文本内容进行任何重新排列或合并</p>
<p><span class="strong">fold [选项] [文件名]</span></p>
<ul>
<li>-w 值：指定每行文本的字符数，默认值为80个字符</li>
<li>-s 在空白字符处分割行，而不是在固定宽度处强制换行。这会让文本在自然的空格处换行，而不破坏单词</li>
<li>-b 值：指定每行文本的字节数，该选项按照字节数分割文本行，可用于处理多字节字符(如中文)，可以使用MB、GB、KiB、GiB等单位</li>
</ul>
<h5 id="split文件拆分"><a href="#split文件拆分" class="headerlink" title="split文件拆分"></a>split文件拆分</h5><p>split命令用于将文件分割成多个较小的文件，它可以按指定的字节数、行数或其他标准来分割文件，非常适合处理大型数据文件或将文件分割成适合传输的小块，尤其是在需要将其传输至大小受限的环境中时</p>
<p><span class="strong">split [选项] 文件名 [新文件名前缀]</span></p>
<ul>
<li>默认情况下，该命令会为每个文件写入最多1000行文本，默认输出的文件名为xaa,xab…..</li>
<li>如果指定了新文件名前缀newfile_，输出的文件名为newfile_xaa…</li>
<li>-n 数量：将文件拆分为5个部分</li>
<li>-b 字节数：按指定的字节数拆分文件，该选项不考虑行的完整性，可能会将同一行内容拆分到两个文件中</li>
<li>-C 字节数：按指定的字节数拆分文件，该选项不会拆分行，它会在文件达到指定大小时，寻找下一个换行符进行分割，从而确保每一行都完整保留在同一个文件中</li>
<li>-l 行数：按指定的行数拆分文件</li>
<li>-d:使用数字作为输出文件的后缀，如x00,x01….</li>
<li>-a 值：指定输出文件的后缀长度，如：-a 4表示输出文件名为xaaaa,xaaab…，默认值为2</li>
<li>-&zwnj;-additional-suffix=字符串：为文件名添加后缀</li>
<li>-&zwnj;-numeric-suffixes=值：指定文件的数字后缀从该值开始</li>
</ul>
<div class="show">e.g.拆分文件test
1. 每个文件写入100行
split -l 100 test
test中的内容会被拆分到以下文件中：xaa xab xac....
2.指定新文件的文件名，并使用数字作为文件后缀
split -l 100 -d test newFile
拆分后文件名为：newFile01 newFile02....
3.指定文件的固定后缀
split -l 100 -d --additional-suffix=.txt test newFile_
拆分后文件名为：newFile_01.txt newFile_02.txt ....
</div>

<h5 id="csplit按内容拆分文件"><a href="#csplit按内容拆分文件" class="headerlink" title="csplit按内容拆分文件"></a>csplit按内容拆分文件</h5><p>csplit是一个用于按特定模式或位置分割文件的命令,与split不同，csplit可以根据正则表达式模式匹配或指定行号将文件拆分为多个部分，适合处理需要基于内容分割的场景</p>
<p><span class="strong">csplit [选项] 文件名 ‘正则表达式/PATTERN/或行数n’ ‘{重复次数}’</span></p>
<ul>
<li>默认情况下，命令会在内容写入文件后打印该文件的大小(字节数)</li>
<li>如果指定正则表达式，命令会在匹配处分割文件，并且匹配的这一行会写入下一个文件。如果还指定了重复次数，则会继续查找下一次匹配的内容，默认只匹配一次</li>
<li>如果指定的是行的数量，则从数量对应的该行处分割文件，并且该行写入下一个文件。如果指定重复次数，也会继续进行分割</li>
<li>分割后生成的文件名默认为xx00，xx01，xx02…..</li>
<li>-f 字符串：指定生成的文件名前缀，默认是xx</li>
<li>-b 格式字符串：指定生成文件名的后缀，默认为%02d(两位数字)</li>
<li>-n 值：指定生成文件名后缀中的数字位数，默认为2</li>
<li>-k 遇到错误，不要删除输出文件</li>
<li>-z 删除大小为 0 的输出文件</li>
<li>-s或-q：不打印每个文件大小</li>
</ul>
<div class="show">e.g.文件test的内容为：
AAAA
1111
BBBB
CCCC
2222
DDDD
在文件中包含数字的行处进行分割(默认分割一次)
csplit test '/[0-9]/'
分割以后的文件为：
xx00文件：  
AAAA
xx01文件：   
1111
BBBB
CCCC
2222
DDDD
在文件中包含数字的行处进行分割，并分割任意多次
csplit test '/[0-9]/' '{*}'
分割以后的文件为：
xx00文件：      
AAAA               
xx01文件：         
1111
BBBB
CCCC
xx02文件：
2222
DDDD
</div>

<h4 id="合并文件"><a href="#合并文件" class="headerlink" title="合并文件"></a>合并文件</h4><h5 id="paste合并文件"><a href="#paste合并文件" class="headerlink" title="paste合并文件"></a>paste合并文件</h5><p><span class="strong">paste [选项] [文件名1] [文件名2]…</span></p>
<ul>
<li>默认情况下，如果命令只指定一个文件，paste会原样输出文件；如果指定多个文件，该命令会将多个文件的第一行都粘贴到第一行，第二行都粘贴到第二行，依此类推，同一行内容之间使用tab分隔</li>
<li>-s 如果只指定一个文件，命令会将该文件的所有内容合并到同一行上，以tab分隔。如果指定多个文件，命令会将文件1的内容都粘贴到第一行，文件2内容粘贴到第二行，其他文件以此类推</li>
<li>-d “字符1字符2..”：使用指定的字符作为内容分隔符，默认为tab，可以指定多个字符，这些字符会循环使用，文件合并后的内容将写为：文件1字符1文件2字符2</li>
<li><span class="tips">paste - - - </span> paste命令的特殊用法，允许命令从标准输入中将每n行合并为1行，n取决于-的数量，每个-间有空格</li>
</ul>
<div class="show">e.g.文件num.txt内容为
1111
2222
3333
文件test.txt内容为
AAAA
BBBB
1.将num.txt的文件容合并到同一行上
paste -s num.txt
输出为：
1111  2222  3333
指定分隔符
paste -d ';' -s num.txt
输出为：
1111;2222;3333
2. 合并文件num.txt与test.txt
paste test.txt num.txt
合并后为：
AAAAA    1111
BBBBB    2222
        &emsp;&emsp;3333
2. -s选项
AAAAA    BBBBB
1111&emsp;    2222    3333
3. -d选项
paste -d "%-" test num test
合并后为：
AAAAA%1111_AAAAA
BBBBB%2222_BBBBB
%3333_
</div>

<div class="show"><span class="text-red">paste - - -</span>的用法
1.将file文件每4行合并为一行，合并的行之间用tab分隔
paste - - - - &lt; file.txt
2.在脚本或终端将多行输入每3行合并为1行
paste - - - &lt;&lt;EOF
 ... 
 ...
 EOF
 或从管道
 echo -e "a\nb\nc\nd\ne\nf" | paste - - -
输出：
a    b    c
d    e    f
3.Bash支持一种特殊输入方法，将字符串作为标准输入
paste - - - <<< $'a\nb\nc'
4.支持文件和标准输入混合合并
paste file1.txt - - file2.txt
第 1 列：来自 file1.txt
第 2、3 列：来自标准输入
第 4 列：来自 file2.txt
</div>

<h5 id="join-按字段合并文件"><a href="#join-按字段合并文件" class="headerlink" title="join 按字段合并文件"></a>join 按字段合并文件</h5><p>以某个字段作为合并依据，合并两个文件的内容，默认是按第一个字段进行匹配，通常会先使用 sort 对文件进行排序再进行合并</p>
<p><span class="strong">join [选项] 文件1 文件2</span></p>
<ul>
<li>默认情况下，命令会比较两个文件中的第一个字段的内容，如果两个文件第一个字段内容相同，则合并输出该行的剩余部分，输出默认使用空格分隔</li>
<li>-1 字段号：修改文件1作为匹配依据的字段，默认是第一个字段</li>
<li>-2 字段号：修改文件2作为匹配依据的字段，默认是第一个字段</li>
<li>-j 字段号N：等价于-1 N -2 N</li>
<li>-o 字段号：指定输出哪些字段，0代表整行</li>
<li>-t 分隔符：指定字段分隔符，默认为空格</li>
<li>-i 比较时忽略大小写</li>
<li>-a 1或-a 2：输出文件1或文件2中未匹配到的行</li>
<li>-e “字符串”：指定在某个字段缺失时，用哪个字符串代替</li>
<li>-v 1或-v 2：仅显示文件1或文件2中未匹配的行</li>
<li>-&zwnj;-check-order：如果任一输入文件排序错误，则失败并显示错误消息</li>
<li>-&zwnj;-nocheck-order：不检查两个输入文件是否按排序顺序排列(默认)</li>
<li>-&zwnj;-header：将输入文件的第一行视为标题行，并合并打印到第一行</li>
</ul>
<div class="show">e.g.文件file1：
a 1
b 2
e 5
文件file2：
a X
e Y
f Z
1. 输出第一个字段相同的行
join file1 file2
输出值：
a 1 X
e 5 Y
2. 指定哪些字段需要输出，0表示整行都输出
join -o 1.2 2.2 file1 file2
3. 输出没有匹配到的行。如果使用 -a 1，将输出文件1中所有未匹配到的行
join -a 1 file1 file2
</div>

<h4 id="comm逐行比较两个排序好的文件"><a href="#comm逐行比较两个排序好的文件" class="headerlink" title="comm逐行比较两个排序好的文件"></a>comm逐行比较两个排序好的文件</h4><p><span class="strong">comm [选项] 文件1 文件2</span></p>
<ul>
<li>默认情况下，命令会生成三列输出，第一列为文件1独有的行，第二列为文件2独有的行，第三列为文件1和文件2共有的行</li>
<li>-1或-2或-3选项，可以禁止打印对应的列</li>
<li>-&zwnj;-check-order 检查输入的文本行是否是已经排序过的，如果任一文件排序错误则报错并退出</li>
<li>-&zwnj;-nocheck-order 不检查文件是否排序</li>
<li>-&zwnj;-output-delimiter=”字符串”:替换所输出三列信息之间的分隔字符串，默认为Tab</li>
</ul>
<h4 id="文件校验"><a href="#文件校验" class="headerlink" title="文件校验"></a>文件校验</h4><h5 id="sum计算文件占用的磁盘块数与校验和"><a href="#sum计算文件占用的磁盘块数与校验和" class="headerlink" title="sum计算文件占用的磁盘块数与校验和"></a>sum计算文件占用的磁盘块数与校验和</h5><p>sum命令会为每个给定文件计算一个16位校验和(checksum)，以及文件占用的块大小，该命令是为了与旧Unix系统兼容而提供的，GNU更推荐使用cksum命令</p>
<p><span class="strong">sum [选项] 文件</span></p>
<ul>
<li>-r 使用BSD算法计算校验和，块大小为1024byte</li>
<li>-s 使用systemV算法计算校验和，块大小为512byte</li>
</ul>
<h5 id="cksum计算文件校验和"><a href="#cksum计算文件校验和" class="headerlink" title="cksum计算文件校验和"></a>cksum计算文件校验和</h5><p>cksum命令会为每个给定文件计算 32 位循环冗余校验(CRC)校验和，并输出文件字节数，可以用来验证文件在传输或复制过程中是否被损坏或修改</p>
<p><span class="strong">cksum [选项] 文件名</span></p>
<ul>
<li>命令会默认输出文件的校验和、文件大小(字节数)、文件名三个信息</li>
<li>命令默认使用CRC-32 算法，生成32位校验和，输出时通常以十进制形式表示，通常输出10位</li>
<li>该命令主要用于检测随机性错误，安全性相较于md5sum、sha256sum 等哈希命令会较低</li>
<li>-a ‘算法’：使用指定的摘要算法计算校验和，支持sysv,bsd,crc,md5,sha1,sha224,sha256,sha384,sha512,blake2b,sm3等</li>
<li>-b 以二进制数据形式读取文件</li>
<li>-c 文件名：从指定文件中读取校验和与文件名(可以包含路径)，并检查校验和与文件是否匹配，以下选项需要与-c选项搭配使用：<blockquote>
<blockquote>
<ul>
<li>-&zwnj;-ignore-missing 忽视缺失的文件，在大批量校验文件时，可能会有部分文件缺失，该选项用来禁止在文件缺失时报错</li>
<li>-&zwnj;-quiet 静默模式，只输出校验失败的文件信息，默认情况下，校验成功和经验失败都会输出信息</li>
<li>-&zwnj;-status 只在文件打开失败时输出错误信息</li>
<li>-&zwnj;-strict 严格模式，任意一个文件校验失败，就立即打印错误信息并以非0状态码0退出命令，适合多文件处理时，所有文件都必须校验通过的场景</li>
</ul>
</blockquote>
</blockquote>
</li>
</ul>
<h5 id="md5-b2-sha1校验文件"><a href="#md5-b2-sha1校验文件" class="headerlink" title="md5/b2/sha1校验文件"></a>md5/b2/sha1校验文件</h5><p>以下为cksum命令各选项的独立版本，他们拥有与cksum相似的选项和参数：</p>
<p><span class="strong">md5sum [选项] [文件名]</span>打印或检查 MD5 摘要</p>
<p><span class="strong">b2sum [选项] [文件名]</span>打印或检查 BLAKE2 摘要</p>
<p><span class="strong">sha1sum [选项] [文件名]</span>打印或检查 SHA-1 摘要</p>
<p><span class="strong">sha224/256/384/512sum [选项] [文件名]</span>打印或检查SHA-2摘要，可以选择几种(224、256、384、512)不同长度的校验和位数</p>
<ul>
<li>-t 以文本模式读取文件</li>
<li>-c 文件名：从指定文件中读取校验和与文件名(可以包含路径)，并检查校验和与文件是否匹配，以下选项需要与-c选项搭配使用：<blockquote>
<blockquote>
<ul>
<li>-&zwnj;-ignore-missing 忽视缺失的文件，在大批量校验文件时，可能会有部分文件缺失，该选项用来禁止在文件缺失时报错</li>
<li>-&zwnj;-quiet 静默模式，只输出校验失败的文件信息，默认情况下，校验成功和经验失败都会输出信息</li>
<li>-&zwnj;-status 只在文件打开失败时输出错误信息</li>
<li>-&zwnj;-strict 严格模式，任意一个文件校验失败，就立即打印错误信息并以非0状态码0退出命令，适合多文件处理时，所有文件都必须校验通过的场景</li>
</ul>
</blockquote>
</blockquote>
</li>
</ul>
<div class="show">1. 生成校验和
cksum test.txt  #命令用法大致相同
会输出文件的校验和、文件大小、文件名，可以通过校验和与文件大小来判断文件是否被修改
3647810268 85 test.txt
2. 校验文件
通常，文件的校验和信息会存储于一个专门的校验和文件中，如：checksums.md5文件中有以下内容
d41d8cd98f00b204e9800998ecf8427e  /home/user/file1.txt
098f6bcd4621d373cade4e832627b4f6  /home/user/file2.txt
执行校验命令：
md5sum -c checksums.md5
命令会逐行读取checksums.md5文件内容，然后根据内容前往文件相应路径下打开该文件并计算其校验和，再与checksums.md5文件所记录的校验和进行对比，最后逐行输出每个文件的校验结果
file1.txt: OK     #校验成功
file2.txt: FAILED #校验失败
</div>

<h4 id="file查看文件类型"><a href="#file查看文件类型" class="headerlink" title="file查看文件类型"></a>file查看文件类型</h4><p><span class="strong">file [选项] 文件名</span>查看文件类型</p>
<ul>
<li>-i 显示文件的MIME 类型，而不是传统的文件类型描述，如：text/plain; charset=us-ascii</li>
<li>-b 显示结果去掉文件名，只显示文件信息</li>
</ul>
<p>file命令会检查文件内容的特征，而不仅仅通过文件扩展名来识别文件的实际类型，这对于处理没有扩展名或扩展名不正确的文件特别有用，命令可以识别文本文件(文本文件还可以识别它的编码格式)、可执行文件、图像文件、压缩文件等多种类型</p>
<div class="show">file命令可以帮助我们提前探测文件内容，并返回具体类型，如：
file my_file
返回：
ASCII text说明该文件是ASCII编码的文本文件
directory说明是一个目录
symbolic link to 'data_file'说明是一个软链接文件并链接到了data_file文件
Bourne-Again shell script, ASCII text executable说明该可执行程序编译或执行所面向的平台或库
</div>

<h4 id="sync将缓存写入磁盘"><a href="#sync将缓存写入磁盘" class="headerlink" title="sync将缓存写入磁盘"></a>sync将缓存写入磁盘</h4><p>立即将内存缓冲区中的所有数据写入磁盘中，该命令常用于：</p>
<ul>
<li>对重要数据进行修改后，立即保存修改到磁盘</li>
<li>卸载文件系统(移除U盘等设备)前，确保所有数据写入完毕</li>
<li>进行系统更新和维护前，确保数据安全保存完毕</li>
</ul>
<p><span class="strong">sync [选项] [文件名]</span></p>
<ul>
<li>如果不指定任何参数和选项，命令会将所有挂载文件系统中内存缓冲区的数据同步到磁盘</li>
<li>-d 只同步该文件数据，而不刷新文件的元数据(例如文件权限、所有者、时间戳等)</li>
<li>-f 将包含该文件的整个文件系统同步到磁盘，而不仅仅是该文件的数据部分</li>
</ul>
<h4 id="truncate扩大或缩小文件大小"><a href="#truncate扩大或缩小文件大小" class="headerlink" title="truncate扩大或缩小文件大小"></a>truncate扩大或缩小文件大小</h4><p><span class="strong">truncate 选项 文件1 文件2…</span></p>
<ul>
<li>默认情况下，如果所指定的文件不存在，将创建该文件，如果未指定-s选项，则新建的文件大小为0字节</li>
<li>-c 不创建不存在的文件</li>
<li>-s 值size：将文件大小调整为指定值，默认以字节为单位，值支持使用K/KiB(1024bytes)、KB(1000bytes)等单位，值之前也支持使用以下前缀：<blockquote>
<blockquote>
<ul>
<li>+在当前文件大小基础上扩大size字节</li>
<li>-在当前文件大小基础上缩小size字节</li>
<li>&lt;将文件大小调整到小于该值</li>
<li>&gt;将文件大小调整到大于该值</li>
<li>/ 将文件大小缩小为size的倍数</li>
<li>% 将文件大小扩大为size的倍数</li>
</ul>
</blockquote>
</blockquote>
</li>
<li>-r 文件名：以该文件大小作为参考值进行修改</li>
<li>-o 将-s指定size视为文件I/O块数，而不是字节数</li>
</ul>
<p>该命令用来将文件扩大/缩小到指定大小。如果文件小于指定大小，则命令会使用空字符(\0)填充文件末尾，空字符在文本编辑器中不可见，但文件实际大小会被改变；如果文件大于指定大小，则文件末尾会被截断，多余的数据会丢失。该命令可以用于以下场景：</p>
<ul>
<li>创建大文件用于测试：可以快速创建特定大小的文件，用于测试磁盘写入速度或其他场景。</li>
<li>调整日志文件大小：对日志文件进行大小调整时，可以使用 truncate 来截断多余数据。</li>
<li>快速清空文件：将文件大小设置为 0 来清空文件内容</li>
</ul>
<div class="show">1. 创建一个1G文件
truncate -s 1G myfile.bin
2. 将example.txt调整为5M大小
truncate -s 5M example.txt
3.在当前文件大小基础上增大1M
truncate -s +1M example.txt
4.将文件大小缩小为512的倍数
如果文件example.txt原大小为1000bytes，将缩小为512bytes
truncate -s /512 example.txt
5.将文件大小扩大为512的倍数
如果文件example.txt原大小为1000bytes，将扩大为1024bytes
truncate -s %512 example.txt
</div>

<!-- #### fallocate
<span class="strong">fallocate [选项] -l 大小 文件名</span>
+ -l 值：指定文件大小，该选项必须
+ -n 打孔 -->


<h3 id="处理文件路径"><a href="#处理文件路径" class="headerlink" title="处理文件路径"></a>处理文件路径</h3><p>这些命令不会去验证所指定的文件或路径是否存在，只是单纯返回所给定的路径字符串中的某个部分</p>
<h4 id="basename提取文件名"><a href="#basename提取文件名" class="headerlink" title="basename提取文件名"></a>basename提取文件名</h4><p>该命令用于从文件路径中删除路径和文件后缀，提取纯净的文件名或目录名，方便使用干净的文件名进行重命名或备份</p>
<p><span class="strong">basename 文件路径 [要删除的文件后缀]</span></p>
<p><span class="strong">basename [选项] 文件路径</span></p>
<ul>
<li>默认情况下，命令会去除文件或目录的路径部分</li>
<li>-a 在指定多个路径时需要使用该选项，该选项会将每个参数视为一个文件路径，而不是要删除的文件后缀</li>
<li>-s 后缀字符串：指定需要删除的文件后缀，该选项适合第二种命令，GNU版本的basename命令，使用-s选项会默认隐式启用-a选项</li>
<li>-z 在每行输出末尾输出空字符(null)，而不是换行符</li>
</ul>
<div class="show">1. 删除路径和后缀(命令会隐式启用-a选项以解析多个路径)
basename -s .txt /home/user/file1.txt /home/user/file2.txt
输出：
file1
file2
2. 处理目录
basename /home/user/documents/
输出：documents
3.一次性处理多个路径
basename -a /path/file1.txt /path/file2.html /path/file3.sh
输出：
file1.txt
file2.html
file3.sh
</div>

<h4 id="dirname提取路径"><a href="#dirname提取路径" class="headerlink" title="dirname提取路径"></a>dirname提取路径</h4><p>该命令与basename命令相反，它会获取文件路径而去除文件名</p>
<p><span class="strong">dirname [选项] 文件路径</span></p>
<ul>
<li>可以同时指定多个路径而不需要任何选项</li>
<li>如果指定一个文件而不包含/路径，则返回的路径为.(当前目录)</li>
<li>-z 在每行输出末尾输出空字符(null)，而不是换行符</li>
</ul>
<div class="show">1. 获取文件路径
dirname /path/to/file1.txt /home/user1/test.sh
输出：
/path/to
/home/user1
2. 获取目录的路径
dirname /myshell/new/checkOS/ 
输出：/myshell/new
3. 单个文件的路径为.
dirname checkOS.sh 
输出：
.(当前目录)
</div>

<h4 id="pathchk检查文件名是否有效"><a href="#pathchk检查文件名是否有效" class="headerlink" title="pathchk检查文件名是否有效"></a>pathchk检查文件名是否有效</h4><p>pathchk命令通常用于验证路径名是否符合当前系统的文件命名规则(比如文件名长度限制或字符限制)，帮助用户在创建文件或目录之前，或在不同系统之间移动文件之前，检测出潜在的问题，避免因路径名不合法而导致的操作失败。在POSIX标准中，所有路径组件的长度不能超过255个字节，总路径名的长度不能超过4096个字节</p>
<p><span class="strong">pathchk [选项] 文件路径</span></p>
<ul>
<li>默认情况下，所指定的路径中有任一目录无搜索(x)权限，或文件名长度、文件路径总长度大于系统支持的最大值，命令将返回错误</li>
<li>默认情况下，所指定的文件名不存在不视为错误</li>
<li>-p 满足以下任何条件，打印错误：<blockquote>
<blockquote>
<ul>
<li>文件名为空</li>
<li>文件路径包含字母、数字以及._-/以外的字符(这几个是POSIX可移植文件名字符)</li>
<li>文件名长度、文件路径总长度大于POSIX的可移植性最低限制</li>
</ul>
</blockquote>
</blockquote>
</li>
<li>-P 如果文件名为空，或文件路径中的任一目录名或文件名以-开头，则报错</li>
</ul>
<h4 id="realpath获取绝对路径与相对路径"><a href="#realpath获取绝对路径与相对路径" class="headerlink" title="realpath获取绝对路径与相对路径"></a>realpath获取绝对路径与相对路径</h4><p>realpath命令可以用来获取文件的绝对路径、文件之间的相对路径、符号链接所指向目标的真实路径等，通常用来在脚本中标准化路径，避免路径混淆，使脚本更具可移植性和可靠性</p>
<p><span class="strong">realpath [选项] 文件1 文件2…</span></p>
<ul>
<li>默认情况下，命令会输出所给定文件的绝对路径，如果文件是一个符号链接，则输出其指向源文件的绝对路径</li>
<li>-e 只解析存在的文件或目录路径，如果所指定的路径中任一文件或目录不存在，立即报错</li>
<li>-m 如果所指定的路径中有文件或目录不存在，将其视为目录，并返回标准化路径，而不报错</li>
<li>–relative-to=目录名DIR：输出realpath命令指定的文件1(文件2…)与目录DIR之间的相对路径</li>
<li>–relative-base=目录名DIR：以该DIR路径作为解析时的基准起始点，如果文件1、文件2…在DIR路径下的子目录中，则输出相对路径，如果文件1、文件2…在DIR目录以外的位置，输出绝对路径</li>
<li>-s 不解析符号链接</li>
<li>-P (默认)解析路径中所有的符号链接，返回它们的真实路径(源文件的路径)，如：/home/user/link-to-dir/file中link-to-dir是一个符号链接，该选项会找出它所指向的源文件的路径，并替换到要输出的路径中</li>
<li>-L 不解析父目录中的符号链接，路径中任何中间部分的符号链接将被保留，只有在最终文件或目录是符号链接时解析，如：/home/user/link-to-dir/file中link-to-dir是符号链接，由于它属于父目录，因此该链接文件不会被解析。如果最终目标文件file是符号链接时，则会解析file所指向源文件的路径</li>
<li>-q 禁止显示错误信息</li>
<li>-z 在每行输出末尾输出空字符(null)，而不是换行符，方便将输出交给其他程序解析</li>
</ul>
<div class="show">e.g.有以下文件结构
/mydir
├── index.html
├── source
│     └──css/index.css
│     └──js/main.js
└── public    
      └──link_js --> /mydir/source/js
      └── config.json
假设当前位于/mydir路径下
1. 输出指定文件的绝对路径，默认情况下，符号链接会解析为其源文件或目录
realpath index.html source/css/index.css public/link_js
输出：
/mydir/index.html
/mydir/source/css/index.css
/mydir/source/js  # 符号链接指向的目录
2.输出config.json相对js目录的相对路径
realpath --relative-to=source/js public/config.json
输出：
../../public/config.json
3.输出config.json与main.js文件的相对路径
realpath --relative-to=source/js/main.js public/config.json
输出：
../../../public/config.json
<span class="text-red">当计算相对路径的对象为文件时，通常会输出一个额外../(main.js到js目录，js到source目录，source到mydir目录，三个../)</span>
3.以/mydir/source为基准(路径起点)，输出指定文件的路径
realpath --relative-base=source source/css/index.css index.html public/link_js public/config.json
如果文件属于基路径的子目录下，输出相对路径，该基目录以外的文件，输出绝对路径
css/index.css
/mydir/index.html
js
/mydir/public/config.json
4. 同时使用--relative-to和--relative-base
以/mydir/source为基准(路径起点)，输出其他文件相对于source/css目录的相对路径
realpath --relative-base=source --relative-to=source/css source/css/index.css index.html public/config.json public/link_js
类似的，如果文件属于基路径的子目录下，输出相对于--relative-base的相对路径，该基目录以外的文件，输出绝对路径
index.css
/mydir/index.html
/mydir/public/config.json
../js
</div>


<h3 id="find文件查找"><a href="#find文件查找" class="headerlink" title="find文件查找"></a>find文件查找</h3><p>find命令可能占用大量的系统资源，尽量避免在系统使用高峰期频繁使用find查找文件，文件查找范围应该尽可能小</p>
<p><span class="strong">find [起始查找路径] [选项] [选项对应的查找表达式]</span></p>
<ul>
<li>不指定起始查找路径时，默认从当前目录<span class="tips">.</span>开始，起始查找路径可以指定多个，空格分隔</li>
<li>-files0-from 文件名：(GNU拓展)从该文件中读取起始查找路径而不是从命令行参数，文件中指定多个路径时，必须使用<span class="tips"> ASCII NUL字符(\0)</span>分隔，以避免文件名中含有空格、换行符等特殊字符。可以使用<span class="tips">-files0-from -</span>表示从标准输入读取查找路径，方便从管道等地方输入查找路径</li>
<li>在可以使用通配符(参数标识为pattern)的选项中，通配符必须用引号包裹，防止shell提前扩展通配符(*匹配任意数量字符，一个?匹配一个字符,[]匹配多个表示或的字符)</li>
<li>搜索范围应尽可能小，尽量避免在根目录下搜索</li>
</ul>
<div class="show">向文件正确写入\0的方法：
1.直接生成含 null 分隔符的文件
printf "path1\0path2\0" > paths.txt
2.或从已有路径列表生成（每行一个路径）
echo -e "path1\npath2" | tr '\n' '\0' > paths.txt
3.通过vim直接写入\0会被视为两个字符，正确插入方法是：
在插入模式下，按 Ctrl+V，然后输入 Ctrl+@（显示为 ^@）
4.通过cat -v paths.txt查看是否正确写入了NUL字符
</div>



<p><span class="strong">find的工作流程</span>:</p>
<p>find 命令会以所指定的查找路径作为起点，递归地执行<span class="text-blue">深度优先</span>遍历(可通过 -maxdepth 或 -mindepth 控制遍历深度)，在遍历过程中，find会依次访问路径下的所有文件和子目录(但可以使用 -prune 等选项主动排除特定目录)，对于访问到的每个文件或目录，find会按照命令行中的条件表达式从<span class="text-blue">从左到右</span>的顺序，逐一检查其是否满足指定的条件(如：-name检查文件名、-type检查文件类型等，可以使用-and、-or等逻辑运算组合这些条件)，当条件满足时，find命令会对匹配的文件执行指定的操作(默认动作是打印该条目的完整路径)，如果条件不满足，则跳过该条目，继续处理下一个。</p>
<h4 id="根据文件名查找"><a href="#根据文件名查找" class="headerlink" title="根据文件名查找"></a>根据文件名查找</h4><ul>
<li><span class="strong">-name “pattern”</span>根据文件名查找</li>
<li><span class="strong">-iname “pattern”</span>根据文件名查找(不区分大小写，GNU拓展)</li>
<li>pattern不应该包含任何/以及路径，-name a/b永远不会匹配任何内容，匹配路径应该使用-path或-regex</li>
</ul>
<div class="show">示例:
# find /etc -name init
在/etc目录下查找init文件
# find /etc -name *init*
在/etc目录下查找所有文件名带init的文件
# find /etc -name init???
在/etc目录下查找所有文件名init开头，后面跟3个字符的文件
</div>

<h4 id="根据完整路径查找"><a href="#根据完整路径查找" class="headerlink" title="根据完整路径查找"></a>根据完整路径查找</h4><ul>
<li><span class="strong">-path “pattern”</span> 根据完整路径查找，可以使用通配符</li>
<li><span class="strong">-ipath “pattern”</span> 根据完整路径查找(不区分大小写，GNU拓展)，可以使用通配符</li>
<li><span class="strong">-regex “正则表达式”</span> 使用正则匹配完整路径，在正则中使用<span class="tips">.</span>等符号作为路径或文件后缀名时，需要转义，如：”\.txt”</li>
<li><span class="strong">-iregex “正则表达式”</span> 使用正则匹配完整路径(不区分大小写，GNU拓展)</li>
<li>上述表达式匹配的是<span class="tips">完整路径</span>，所以所给定的模式应当能匹配到起始查找路径，find是将模式与查找路径下的每个文件或目录的完整路径进行比较，如果模式不包括起始查找路径将无法匹配到任何结果，如：命令find /a -path “b”中，find会在/a路径下开始遍历，路径至少为/a/…，因此不会匹配到b，表达式b应当包含查找路径部分，如：-path “*/b”或明确指定-path “/a/b”，如果b只是文件名而不包含路径，应该使用-name “b”以匹配文件名</li>
<li>完整路径指定的是表达式中需要包含起始路径，但也可以可以包括文件名的模式表示形式，以批量匹配文件，如：-path “*.c”中*既能匹配到路径，也能匹配到文件名</li>
<li>-regextype 类型：指定正则表达式的解析类型，值可以是：emacs(默认，使用与GNU Emacs兼容的正则表达式)，posix-awk(与 POSIX awk命令兼容的正则表达式)，posix-basic(基本正则表达式)，posix-egrep(与 POSIX egrep 命令兼容的正则表达式)，posix-extended(扩展正则表达式)</li>
</ul>
<div class="show">假设有以下文件结构
~/test/
├── src/
│    &emsp;├── main.c
│    &emsp;└── lib/
│                &emsp;&emsp;└── util.c
├── build/
│     &emsp;└── main.o
└── 20250710.log
e.g查找所有.c文件
1.-path和-regex都能递归找出子目录下的文件
find test -path "*.c"
2.-regex中的.需要转义，防止解析为正则表达式
find test -regex ".*\.c"
3.所指定的搜索路径会影响命令输出结果
在~目录下执行
find . -path "*.c"
返回值：
./test/src/main.c
./test/src/lib/util.c
同样在~目录下执行
find test -path "*.c"
返回值：
test/src/main.c
test/src/lib/util.c
4.-regex适合查找复杂路径
find test  -regex ".*/202[0-9][0-9]+\.log"
返回
test/20250710.log
</div>

<h4 id="根据文件类型查找"><a href="#根据文件类型查找" class="headerlink" title="根据文件类型查找"></a>根据文件类型查找</h4><p><span class="strong">find [查找路径] -type [文件类型]</span><br>文件类型可以是以下值：</p>
<ul>
<li><span class="strong">f</span>普通文件</li>
<li><span class="strong">d</span>目录，当前目录也将作为查找结果返回</li>
<li><span class="strong">l</span>符号链接文件，使用了-L选项时，由于会追踪链接文件，因此遍历到的文件都是源文件，此时-type l将只能匹配到断开的链接文件</li>
<li>p 命名管道</li>
<li>b 块设备(缓冲)文件</li>
<li>c 字符设备(无缓冲)文件</li>
<li>s 套间字文件socket</li>
</ul>
<div class="show">1.查找/etc目录下的所有普通文件
find /etc -type f
2.查找/test目录下的所有目录
find /test -type d
test目录为空时，返回结果也有.或/test表示当前目录，如果只需要当前目录下的子目录，需要通过-mindepth 1指定搜索深度
</div>

<h4 id="处理符号链接"><a href="#处理符号链接" class="headerlink" title="处理符号链接"></a>处理符号链接</h4><ul>
<li><span class="strong">-lname “pattern”</span>查找符号链接</li>
<li><span class="strong">-ilname “pattern”</span>查找符号链接(不区分大小写)</li>
<li>以下选项是全局选项，会影响find命令的路径解析方式，<span class="tips">必须在查找路径之前指定</span></li>
<li><span class="strong">-P</span>不跟随符号链接(默认)，不访问其指向的实际目录或文件，直接处理链接本身</li>
<li><span class="strong">-H</span>只跟随命令行所指定路径中的符号链接，如果后续遍历该路径下的文件时，遇到其他符号链接，将不再跟随</li>
<li><span class="strong">-L</span>跟随所有符号链接，在遍历搜索路径下的文件时，如果遇到其他符号链接，则追踪其指向。在使用了-L后，-lname和-ilname将不再匹配到任何内容，因为此时所有文件都是源文件而不再有符号链接，-type l将只能匹配到断开的符号链接</li>
</ul>
<div class="show">1.查找当前目录下的符号链接文件
find . -lname '*.c'
2.全局选项需要最先指定，否则报错
find -L /path/dir -name "*.txt"
3. -H只追踪命令行中给定参数的符号链接
find -H /path/dir_link -name file.txt
-H只会追踪dir_link所指向的目录real_dir，如果real_dir中还有符号链接，则不会继续追踪
而-L会追踪dir_link和real_dir及目录下遇到的所有符号链接
4.-L和-type l搭配可以用来查找断开的符号链接
find -L . -type l
</div>

<h6 id="xtype根据符号链接的原文件类型判断"><a href="#xtype根据符号链接的原文件类型判断" class="headerlink" title="xtype根据符号链接的原文件类型判断"></a>xtype根据符号链接的原文件类型判断</h6><p>xtype是type选项的拓展，主要用于判断符号链接的源文件类型，如果当前所判断文件是非链接文件，该选项行为和type相同。如果是符号链接，则会追踪源文件，以源文件类型作为判断标准</p>
<p><span class="strong">-xtype 文件类型</span>匹配链接文件源文件类型为指定类型的文件</p>
<ul>
<li>支持的文件类型与type选项相同，常用的有<span class="strong">f</span>(普通文件)，<span class="strong">d</span>(目录)，<span class="strong">l</span>(符号链接文件)</li>
<li>注意：若符号链接指向无权限访问的目标，-xtype会判定为无效链接</li>
</ul>
<div class="show">1.列出当前目录下所有普通文件和源文件是普通文件的符号链接和硬链接文件
find /path -xtype f
2.列出所有指向普通文件的符号链接文件
find /path -type l -xtype f
3. <span class="text-red">匹配断开或无限循环指向的符号链接</span>，方便删除
find -P /path -xtype l
-P是默认选项，因此不显式指定也行
-P选项会在命令的遍历阶段，阻止追踪链接文件，能有效防止命令因为追踪无限循环指向的符号链接直接导致报错
在匹配阶段，-xtype会开始追踪链接文件，如果符号链接指向一个不存在的文件，则回退并判断当前文件为符号链接文件
如果符号链接循环指向，无法追踪到有效文件，则回退并判断当前文件为链接文件
如果符号链接指向普通文件或目录，则由于不满足匹配类型l，不作为匹配结果输出
因此上述命令能正确找到断开或无限循环指向的符号链接
</div>


<h4 id="处理硬链接"><a href="#处理硬链接" class="headerlink" title="处理硬链接"></a>处理硬链接</h4><ul>
<li><span class="strong">-samefile 文件名</span>：在搜索路径下查找是否有与该文件有相同inode号的硬链接文件，参数中的文件名必须是确定的文件名和路径，而不能是使用模式的模糊形式(如：*.c)。通常情况下，搜索时可以添加<span class="tips"> -xdev</span>将搜索范围限定在单个文件系统内(硬链接不能跨文件系统指向)，以减小find的遍历范围，但如果使用-L来追踪符号链接(即指向符号链接的硬链接)，则不适合添加-xdev</li>
<li><span class="strong">-inum inode号</span>：根据inode号查找指定的路径下是否有对应文件</li>
<li><span class="strong">-link 值n</span>：查找有n个硬链接的文件，可以使用<span class="tips">+n</span>表示n个以上硬链接数，<span class="tips">-n</span>表示n个以下硬链接数</li>
</ul>
<h4 id="根据文件大小查找"><a href="#根据文件大小查找" class="headerlink" title="根据文件大小查找"></a>根据文件大小查找</h4><ul>
<li><span class="strong">-size 值n</span>根据文件大小查找</li>
<li>文件大小可以使用+表示大于，-表示小于，直接写数值表示等于</li>
<li>文件大小可以使用以下单位：<blockquote>
<blockquote>
<ul>
<li><span class="strong">b</span> 默认单位，1b表示1个磁盘块(512bytes)，在文件系统中，即便文件只有1bytes，也会占用一个1个块，因此该单位用来根据占用块的多少查找文件</li>
<li><span class="strong">c</span>表示字节，1c=1bytes</li>
<li><span class="strong">k,M,G</span>常用单位，表示KiB、MiB、GiB</li>
<li><span class="strong">w</span>表示一个字，1w=2bytes</li>
</ul>
</blockquote>
</blockquote>
</li>
</ul>
<div class="show">查找/path目录下大于100MiB的文件
find /path -size +100M
</div>

<h4 id="测试是否为空"><a href="#测试是否为空" class="headerlink" title="测试是否为空"></a>测试是否为空</h4><p><span class="strong">- empty</span>查找空文件或空目录</p>
<div class="show">查找当前目录下有哪些空文件和空目录
find . -empty
</div>

<h4 id="根据文件所有者、所属组查找"><a href="#根据文件所有者、所属组查找" class="headerlink" title="根据文件所有者、所属组查找"></a>根据文件所有者、所属组查找</h4><p><span class="strong">find [起始查找路径] [选项] [用户名或组名]</span></p>
<ul>
<li><span class="strong">-user 用户名</span>:根据文件所属用户查找，不能使用用户ID作为参数</li>
<li><span class="strong">-uid 用户ID值n</span>:根据文件所属用户ID值查找，值n可以使用+n或-n表示大于或小于该值的范围</li>
<li><span class="strong">-nouser</span>匹配属于已销户用户的文件，如果某位用户已从系统中删除，而文件仍属于该用户，则满足匹配</li>
<li><span class="strong">-group 组名</span>:根据文件所属用户组查找，允许使用用户组ID作为参数</li>
<li><span class="strong">-gid 用户组ID值n</span>：根据文件所属用户组ID值查找，值n可以使用+n或-n表示大于或小于该值的范围</li>
<li><span class="strong">-nogroup</span>：匹配属于已删除用户组的文件，，如果某个用户组已从系统中删除，而文件仍属于该用户组，则满足匹配</li>
</ul>
<div class="show">示例:
# find /home -user user1
查找/home目录下属于user1用户的文件
</div>

<h4 id="根据文件权限查找"><a href="#根据文件权限查找" class="headerlink" title="根据文件权限查找"></a>根据文件权限查找</h4><ul>
<li><span class="strong">-readable</span>匹配find命令执行者有r权限的文件</li>
<li><span class="strong">-writable</span>匹配find命令执行者有w权限的文件</li>
<li><span class="strong">-executable</span>匹配find命令执行者有x权限的文件</li>
</ul>
<p>以上为GNU拓展,以下为POSIX标准选项</p>
<p><span class="strong">-perm 权限</span></p>
<ul>
<li>权限的表示方法可以是权限值(如:755)，也可以是符号模式(如：u=rw,g=r,o=r)</li>
<li>如果权限前无任何前缀，文件权限需要严格等于所指定的权限，可以使用以下前缀：<blockquote>
<blockquote>
<ul>
<li><span class="tips">/</span>前缀用来表示文件只需要包含任意一个权限位即可，如-perm /111(或-perm /u=x,g=x,o=x)表示满足u=x,g=x,o=x中的任意一个条件即可</li>
<li><span class="tips">-</span>前缀用来表示文件必须至少包含所指定的权限，如：-perm -644(或-perm -u=rw,g=r,o=r)表示文件权限要大于等于644(rw-r–r–)，这意味着755,744,655等大于该值的权限也满足匹配，而640不满足匹配(缺少其他用户的r权限)</li>
</ul>
</blockquote>
</blockquote>
</li>
</ul>
<div class="show">1.查找其他用户可写的文件(有安全风险)
find /home -perm -o=w
2. 查找所有可执行文件
find /usr/bin -perm /111
3.查找有SUID权限的文件
find / -perm /4000
</div>


<h4 id="根据时间属性查找"><a href="#根据时间属性查找" class="headerlink" title="根据时间属性查找"></a>根据时间属性查找</h4><p><span class="strong">find [查找路径] [选项] [时间]</span></p>
<h5 id="按天数匹配"><a href="#按天数匹配" class="headerlink" title="按天数匹配"></a>按天数匹配</h5><ul>
<li><span class="strong">-atime 值n</span>:根据文件上次访问时间匹配</li>
<li><span class="strong">-ctime 值n</span>:根据文件元信息修改时间匹配</li>
<li><span class="strong">-mtime 值n</span>:根据文件内容的修改时间匹配</li>
</ul>
<p>上述选项用于匹配文件上次访问/修改元信息/修改文件内容是n*24小时以前的文件，时间会向下舍入，因此0表示不到24小时，1表示24-48小时之间。可以使用小数，但在值为小数时需要搭配+或-，以+n和-n形式使用(此时更推荐使用分钟数匹配)</p>
<div class="show"> 匹配最近 12小时内修改过的文件
find /path -mtime -0.5
</div>

<h5 id="按分钟匹配"><a href="#按分钟匹配" class="headerlink" title="按分钟匹配"></a>按分钟匹配</h5><ul>
<li><span class="strong">-amin 值n</span>:根据文件访问时间匹配</li>
<li><span class="strong">-cmin 值n</span>:根据文件属性被修改时间匹配</li>
<li><span class="strong">-mmin 值n</span>:根据文件内容被修改时间匹配</li>
<li>上述时间值中，使用+表示超过该时间范围，-表示小于该时间内，直接写数值表示等于，同样可以使用小数</li>
</ul>
<div class="show">1.查找/etc目录下5分钟内被访问过的所有文件
find /etc -amin -5
2.列出/u/bill目录下2-6分钟内访问过的文件 
find /u/bill -amin +2 -amin -6
</div>

<h5 id="修改时间基准"><a href="#修改时间基准" class="headerlink" title="修改时间基准"></a>修改时间基准</h5><ul>
<li>-daystart 从当天0点作为基准，开始计算时间(默认情况下是以find命令执行时的当前时间作为基准)，该选项只影响在它之后的-atime等选项，如果-atime选项在-daystart之前则不受影响</li>
</ul>
<div class="show">默认情况下，-atime、-amin等选项是以当前时间作为基准计算时间差，如：
find . -mtime 0
用来匹配从当前时间起往前24小时内修改的文件，添加-daystart选项后
find . -daystart -mtime 0
用来匹配从今天凌晨 0 点到现在之间修改的文件
find . -daystart -mtime 1
查找“昨天0点到今天0点之间被修改”的文件
</div>

<h5 id="比较两个文件的时间戳"><a href="#比较两个文件的时间戳" class="headerlink" title="比较两个文件的时间戳"></a>比较两个文件的时间戳</h5><p><span class="strong">find [查找路径] -newerXY 参考文件</span></p>
<ul>
<li>X代表搜索路径下要查找文件的时间戳类型</li>
<li>Y代表参考文件的时间戳类型</li>
<li>如果查找路径下文件的时间戳X比参考文件时间戳Y晚，则视为true，满足匹配条件</li>
<li>X和Y可以是以下值：<blockquote>
<blockquote>
<ul>
<li>a 上次访问时间</li>
<li>B 文件创建时间(需要文件系统支持)</li>
<li>c 文件元信息修改时间</li>
<li>m 文件内容修改时间</li>
<li>t “时间”：将查找路径下的文件时间戳与指定时间的时间戳进行比较，此时不需要再指定参考文件，时间戳来源由参考文件的访问/元信息修改/修改时间改为在命令行中明确指定，使用该参数时仅支持-newerXt形式(如：-newerat )</li>
</ul>
</blockquote>
</blockquote>
</li>
</ul>
<div class="show">1.查找/var/log目录下修改时间比syslog的修改时间更晚的所有文件
find /var/log -newermm /var/log/syslog
2.查找 /home 下访问时间早于 last_access.txt 的所有文件。
find /home -type f ! -neweraa /home/user/last_access.txt
3.查找backup目录下，修改时间比last_backup.tar.gz晚的文件
这表明这些文件在上次备份后修改过，可能需要再次备份
find /backup -newermm /backup/last_backup.tar.gz
</div>

<ul>
<li><span class="strong">-anewer 参考文件</span>：等价于-neweram，匹配访问时间比参考文件修改时间晚的文件</li>
<li><span class="strong">-cnewer 参考文件</span>：等价于-newercm，匹配文件元信息修改时间比参考文件修改时间晚的文件</li>
<li><span class="strong">-newer 参考文件</span>：等价于-newermm，匹配文件修改时间比参考文件修改时间晚的文件</li>
</ul>
<h5 id="查找长期未使用文件"><a href="#查找长期未使用文件" class="headerlink" title="查找长期未使用文件"></a>查找长期未使用文件</h5><p><span class="strong">find [查找路径] -used 值n</span>查找上次访问时间是上次元信息修改时间n天后的文件，常用于查找长期未访问的文件，以进行存档或删除</p>
<h4 id="指定搜索深度"><a href="#指定搜索深度" class="headerlink" title="指定搜索深度"></a>指定搜索深度</h4><ul>
<li><span class="strong">-maxdepth N</span>搜索深度最多为N层(所指定的搜索起始目录为0，因此-maxdepth 0将只匹配起始目录本身)</li>
<li><span class="strong">-mindepth N</span>搜索深度最小为N层</li>
<li>这两个选项是全局选项，应该放在其他选项之前，否则会抛出警告</li>
</ul>
<div class="show">查找/home目录下的所有子目录，不包括home目录自己
find /home -mindepth 1 -maxdepth 1 -type d
</div>

<h4 id="depth优先处理目录下的内容"><a href="#depth优先处理目录下的内容" class="headerlink" title="-depth优先处理目录下的内容"></a>-depth优先处理目录下的内容</h4><p>默认情况下，find命令在遍历到一个目录时，会先处理目录本身，然后才会进入该目录进行遍历，对目录下的内容进行处理。这种默认顺序会在删除目录或修改权限时产生错误，如：使用find /path/dir -type d -delete删除dir下的目录，并删除dir目录本身，find命令会先尝试删除dir，但会由于dir目录下有内容而删除失败，-depth会反转操作顺序，让find先删除目录下的内容，再删除母目录</p>
<p><span class="strong">-depth</span>在处理目录本身之前处理每个目录下内容</p>
<div class="show">find会首先处理目录本身，如：
find /path/dir
会首先输出目录本身，再输出目录下的内容
/path/dir
/path/dir/file1
如果想要删除dir下的目录
find /path/dir -name "dir" -type d -delete
会报错：Directory not empty
find /path/dir -depth  -type d -delete
将会正确执行，删除dir下所有空目录，最后删除dir本身
dir下的子目录需要确保事先已经删除目录下的文件，否则依旧会因为目录不是空目录而删除失败
</div>

<h4 id="跳过目录"><a href="#跳过目录" class="headerlink" title="跳过目录"></a>跳过目录</h4><p><span class="strong">-prune</span>跳过目录，不进入之前选项所匹配的目录下进行遍历</p>
<p>由于该选项的作用只是不让find进入某些目录遍历，因此具体不进入哪些目录需要通过其他选项来指定，但在搭配了其他选项时，这些选项又会将遍历结果筛选得只剩下满足要求的目录，同时-prune又禁止进入这些目录遍历，在组合搭配下，最后结果将只剩下前置选项匹配的目录本身。因此该选项通常需要搭配<span class="tips">-o</span>选项使用，来避免前置选项在-prune选项之前就筛选掉不需要跳过的目录，常用语法为：<br><span class="strong">find [搜索路径] -name “要排除的目录名” -prune -o [其他条件] -print</span></p>
<ul>
<li>-name可以任意替换为其他选项</li>
<li>-prune只对它之前的一个选项有效，要跳过多个选项的目录需要使用分组实现，参考以下示例</li>
</ul>
<div class="show">1.要跳过哪些目录需要通过其他选项指定
如：输出除了backup目录以外的所有文件和目录
如果直接执行
find . -name "backup" -prune
由于-name "backup"会将结果筛选得只剩backup目录
而-prune选项会禁止find进入backup遍历，这将导致删除结果只剩下
./backup
正确的执行方法是：
-name "backup"跳过，其他目录print
find . -name "backup" -prune -o -print
2.跳过多个src和backup目录
find . \( -name "src" -o -name "backup" \) -prune -o -print
</div>

<h4 id="noleaf禁用基于硬链接的优化"><a href="#noleaf禁用基于硬链接的优化" class="headerlink" title="-noleaf禁用基于硬链接的优化"></a>-noleaf禁用基于硬链接的优化</h4><p>在unix文件系统中，每个目录至少会有两个硬链接：指向自己的目录项<span class="tips">.</span>和<span class="tips">目录名</span>(父目录对它的引用)，此外，该目录下每增加一个子目录就会为其增加一个硬链接<span class="tips">..</span>(在子目录创建时自动添加以指向父目录)</p>
<p>默认情况下，find命令会利用上述机制优化遍历操作，如果一个目录的硬链接数为2，意味着该目录下没有子目录(它是叶子目录)，find将不会递归地搜索子目录以加快搜索(但find依旧会进入该目录搜索普通文件)。如果硬链接数大于2，则find会递归地搜索子目录。这一机制会导致find在搜索一些非unix文件系统时，错误地跳过一些目录的子目录，因为这些文件系统不一定维护和依赖硬链接，当系统中挂载了虚拟文件系统或网络文件系统，且需要使用find在这些文件系统中执行搜索时，需要禁用上述优化机制：</p>
<p><span class="strong">find [搜索路径] -noleaf [其他选项]</span>禁用基于硬链接的叶目录判断机制，严格遍历所有文件</p>
<div class="show">find /mnt/cdrom -noleaf -name "*.txt"</div>

<h4 id="基于文件系统搜索"><a href="#基于文件系统搜索" class="headerlink" title="基于文件系统搜索"></a>基于文件系统搜索</h4><ul>
<li><span class="strong">-xdev</span> 仅搜索当前文件系统，不跨越挂载点，当前的文件系统指搜索路径所处的文件系统，常用于对USB等设备的遍历查找</li>
<li>-mount (旧版本语法)功能同上</li>
<li>-fstype 文件系统：手动指定要搜索的文件系统类型，常用值有：autofs，ext3，ext4，nfs，proc，sshfs，sysfs，ufs，tmpfs，xfs，如果该选项指定文件系统与搜索路径所处文件系统不一致，则匹配结果为空</li>
</ul>
<h4 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h4><h6 id="命令分组"><a href="#命令分组" class="headerlink" title="命令分组"></a>命令分组</h6><p>用于组合命令，()必须用\转义或加引号</p>
<ul>
<li><span class="strong">(expr)</span>指定优先运算</li>
</ul>
<div class="show">查找1天内修改过的.txt或.sh文件
find . \( -name "*.txt" -o -name "*.sh" \) -a -mtime -1
如果不加括号
find . -name "*.txt" -o -name "*.sh" -a -mtime -1
上述命令按顺序会被解析为：
find . -name "*.txt" -o \( -name "*.sh" -a -mtime -1 \)
匹配所有.txt文件或1天内修改过的.sh文件
</div>

<h6 id="逻辑非"><a href="#逻辑非" class="headerlink" title="逻辑非"></a>逻辑非</h6><p>排除满足匹配条件的文件</p>
<ul>
<li><span class="strong">! expr</span>逻辑非</li>
<li><span class="strong">-not expr</span>逻辑非</li>
</ul>
<div class="show">查找当前目录下所有不属于root用户的文件
find . ! -user root</div>

<h6 id="逻辑与"><a href="#逻辑与" class="headerlink" title="逻辑与"></a>逻辑与</h6><p>默认逻辑，-a和-and可省略，匹配同时满足多个条件的文件，短路运算，如果expr1为false，则不再尝试匹配expr2</p>
<ul>
<li><span class="strong">expr1 expr2</span>逻辑与</li>
<li><span class="strong">expr1 -a expr2</span>逻辑与</li>
<li><span class="strong">expr1 -and expr2</span>逻辑与</li>
</ul>
<div class="show">查找大于100MB而小于200MB的文件
find /etc -size +100MB -a -size -200MB
</div>

<h6 id="逻辑或"><a href="#逻辑或" class="headerlink" title="逻辑或"></a>逻辑或</h6><p>查找满足任意一个条件的文件，如果expr1为true，则不会计算 expr2</p>
<ul>
<li><span class="strong">expr1 -o expr2</span>逻辑或</li>
<li><span class="strong">expr1 -or expr2</span>逻辑或</li>
</ul>
<div class="show">查找.txt或.log文件
find . -name "*.txt" -o -name "*.log"</div>

<h6 id="逗号运算符"><a href="#逗号运算符" class="headerlink" title="逗号运算符"></a>逗号运算符</h6><ul>
<li><span class="strong">expr1,expr2</span></li>
</ul>
<p>expr1和expr2都会依次执行，不会短路。既不会像逻辑与一样如果前一个失败，后一个不执行，也不会像逻辑或一样如果前一个成功，后一个不执行。由于find的默认逻辑是多个选项之间的与运算，因此往往需要用该表达式执行不受前者影响的连续操作</p>
<div class="show">输出要删除的文件并执行删除
find . -name "*.tmp" -exec echo "Deleting:" {} \; , -delete</div>

<h6 id="常量true与false"><a href="#常量true与false" class="headerlink" title="常量true与false"></a>常量true与false</h6><ul>
<li><span class="strong">-true</span>永远返回true</li>
<li><span class="strong">-false</span>永远返回false</li>
</ul>
<h4 id="匹配文件后执行操作"><a href="#匹配文件后执行操作" class="headerlink" title="匹配文件后执行操作"></a>匹配文件后执行操作</h4><p>find命令支持在匹配到文件后直接执行打印、删除等操作，默认情况下，所指定的操作只会对前一个匹配条件生效，因此在指定多个匹配条件时，往往需要搭配()来指定操作命令</p>
<div class="show">查找所有.txt文件和.log文件，并按指定形式输出
find . \( -name "*.txt" -or -name "*.log" \) -printf "%f-----%s\n"
如果没有()，则printf语句只对-name "*.log"生效
</div>


<h5 id="打印文件名"><a href="#打印文件名" class="headerlink" title="打印文件名"></a>打印文件名</h5><ul>
<li><span class="strong">-print</span>(find命令的默认行为)打印文件名，并输出一个换行符，如果文件名本身包含换行符，应该使用-print0命令</li>
<li><span class="strong">-print0</span>用于输出包含换行符、空格等特殊字符的文件名，该选项会在每个输出的文件名后输出一个<span class="tips">\0</span></li>
<li>-fprint 文件名：将find命令的执行输出到指定文件中，文件不存在会新建，文件已存在会覆盖。如果find命令未匹配到任何文件，无输出，该选项依旧会创建文件</li>
<li>-fprint0 文件名：将print0的输出写入指定文件</li>
</ul>
<h5 id="格式化打印"><a href="#格式化打印" class="headerlink" title="格式化打印"></a>格式化打印</h5><ul>
<li><span class="strong">-printf “格式字符串”</span> 根据格式字符串输出指定信息，末尾不会输出换行符，因此如果需要换行符需要手动添加’\n’</li>
<li>-fprintf 文件名 “格式字符串”:将printf选项输出结果输出到指定文件</li>
<li>转义字符、指定字段宽度和精度的方法与C语言printf函数一样，部分字符代表的含义不一样</li>
</ul>
<div class="table">

<table>
<thead>
<tr>
<th>字符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>%p</td>
<td>输出文件路径与文件名，路径表示形式取决于所给定的搜索路径，如：find . -name…输出形式为./path/file，find dir -name…输出形式为dir/path/file</td>
</tr>
<tr>
<td>%f</td>
<td>输出文件名，即basename</td>
</tr>
<tr>
<td>%h</td>
<td>输出文件路径，不包含文件名，即dirname</td>
</tr>
<tr>
<td>%P</td>
<td>类似于%p，但路径中不包含搜索路径部分，输出形式为path/file</td>
</tr>
<tr>
<td>%H</td>
<td>用户所指定的搜索路径，用于记录find命令的原始搜索路径</td>
</tr>
<tr>
<td>%g</td>
<td>文件所属组名，如果没有组名则输出ID</td>
</tr>
<tr>
<td>%G</td>
<td>文件所属组ID</td>
</tr>
<tr>
<td>%u</td>
<td>文件所有者，无用户名则输出用户ID</td>
</tr>
<tr>
<td>%U</td>
<td>文件所有者ID</td>
</tr>
<tr>
<td>%m</td>
<td>文件数字形式的权限值，如：644</td>
</tr>
<tr>
<td>%M</td>
<td>文件字符串形式的权限，如：-rw-r–r–</td>
</tr>
<tr>
<td>%s</td>
<td>文件大小，以bytes为单位，没有能自动换算为M、G等单位的格式</td>
</tr>
<tr>
<td>%b</td>
<td>文件占用块的数量(512byte为一块)，方便兼容其他命令的输出</td>
</tr>
<tr>
<td>%k</td>
<td>文件占用块的数量(以1K为一块)，方便人类阅读</td>
</tr>
<tr>
<td>%d</td>
<td>文件在目录树中的深度，所指定搜索路径深度为0</td>
</tr>
<tr>
<td>%D</td>
<td>文件所在设备编号</td>
</tr>
<tr>
<td>%F</td>
<td>文件所在文件系统类型</td>
</tr>
<tr>
<td>%l</td>
<td>符号链接的对象</td>
</tr>
<tr>
<td>%i</td>
<td>文件的inode编号</td>
</tr>
<tr>
<td>%n</td>
<td>文件硬链接数量</td>
</tr>
<tr>
<td>%y</td>
<td>文件类型，具体类型参考-type选项，对于符号链接，%y会直接打印为l</td>
</tr>
<tr>
<td>%Y</td>
<td>文件类型，对于符号链接，%Y会追踪并输出源文件类型，如果符号链接断开，打印”N”，如果是循环执行的符号链接，打印为”L”，如果出错无法检查，打印”?”</td>
</tr>
<tr>
<td>%a</td>
<td>文件上次访问时间，输出格式为系统默认的时间样式，参考LANG和LOCALE区域设置</td>
</tr>
<tr>
<td>%c</td>
<td>文件上次修改元信息的时间，输出格式同上</td>
</tr>
<tr>
<td>%t</td>
<td>文件上次修改时间，输出格式同上</td>
</tr>
<tr>
<td>%A时间格式</td>
<td>按照指定格式输出文件上次访问时间，格式参考下文</td>
</tr>
<tr>
<td>%B时间格式</td>
<td>按照指定格式输出文件创建时间，如果文件系统不支持创建时间，则输出空</td>
</tr>
<tr>
<td>%C时间格式</td>
<td>按照指定格式输出文件上次元信息修改时间</td>
</tr>
<tr>
<td>%T时间格式</td>
<td>按照指定格式输出文件最后修改时间</td>
</tr>
</tbody></table>
</div>

<p>%A,%B,%C,%T指定时间格式时，表示时间/日期的字符与date命令类似，但有以下不同：</p>
<ul>
<li>由于%A,%B等参数已经带有%，因此表示时间和日期的字符不再需要%，如：Y代表年，%AY表示文件上次访问时间中的年份</li>
<li>%A,%B等参数中不支持指定连续的时间/日期格式字符(不支持使用连续指定Ymd)，需要反复使用%A前导，如：%AY%Am%Ad</li>
<li>以下字符代表的含义与date命令不同，其他大致一样：</li>
</ul>
<div class="table">

<table>
<thead>
<tr>
<th>格式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>12小时制时间hh:mm:ss[AP]M，如：12:15:05 AM</td>
</tr>
<tr>
<td>T</td>
<td>24小时制时间hh:mm:ss.xxxxxxxxxx，秒有长小数，如：16:11:20.7624958610</td>
</tr>
<tr>
<td>F</td>
<td>日期yyy-mm-dd，如：2021-05-06</td>
</tr>
<tr>
<td>+</td>
<td>日期与时间，以+分隔，如：2004-04-28+22：22：05.00000000000</td>
</tr>
<tr>
<td>@</td>
<td>时间戳，自1970年1月1日00:00至今的秒数</td>
</tr>
</tbody></table>
</div>

<div class="show">%A,%B,%C,%T指定时间格式时，不需要%号，且不支持连续的时间格式
1.%AY 会输出文件上次访问的年
2.不支持连续指定时间格式
%AYmd会输出 2021md
3.输出年月日等多个信息需要反复使用%A
find . -name "file1.txt" -printf "%f---%AY%Am%Ad\n"
输出：
file1.txt---20210712
</div>

<div class="broadcast color-yellow">
<div class="iconfont icon-dengpao14hao"></div>
具体格式参考GNU文档：
<a target="_blank" rel="noopener" href="https://www.gnu.org/software/findutils/manual/html_mono/find.html#Time-Components">https://www.gnu.org/software/findutils/manual/html_mono/find.html#Time-Components</a></div>

<h5 id="详细打印文件信息"><a href="#详细打印文件信息" class="headerlink" title="详细打印文件信息"></a>详细打印文件信息</h5><ul>
<li><span class="strong">-ls</span>详细列出匹配到的文件，输出结果类似于”ls -dils”命令执行结果</li>
<li>-fls 文件名：将-ls的输出写入指定文件，工作方式与fprint类似</li>
</ul>
<div class="show">输出示例：
394305     92 -rw-r--r--   1 root     root        86081 Jul  7 13:09 ./caves.log
输出字段依次是：
文件inode，文件占用磁盘块数，权限，硬链接数，文件所属用户，文件所属组，文件大小(bytes为单位)，文件上次修改时间，文件名
</div>


<h5 id="quit立即退出"><a href="#quit立即退出" class="headerlink" title="-quit立即退出"></a>-quit立即退出</h5><p><span class="strong">-quit</span> 在匹配到一个结果并执行完-quit选项之前的操作后立即退出，不再继续遍历，用于快速找到一个结果后提前结束搜索</p>
<div class="show">1.添加了-quit选项的find将不再默认执行-print，因此需要手动执行-print
find . -name "file*" -print -quit
在找到file1.txt并打印后会退出，即便当前目录下有file2，file3
</div>

<h5 id="对找到文件的执行其他命令"><a href="#对找到文件的执行其他命令" class="headerlink" title="对找到文件的执行其他命令"></a>对找到文件的执行其他命令</h5><ul>
<li><span class="strong">-exec 命令c {}&emsp;\;</span>&emsp;找到文件后执行命令c，find会对每一个找到的文件单独执行一次exec选项后指定的命令，命令c如果要用到文件名作为参数，会以匹配文件的<span class="tips">完整路径</span>作为参数执行命令。该选项会直接在find命令的搜索根路径下工作，不会进入匹配文件所在目录，然后以完整路径执行命令。适合那些可以接收完整路径作为命令参数的命令，如：cat,cp等，但它没有-execdir安全(参考下文)。-exec之后的所有参数都会作为命令c的一部分，直到遇到<span class="tips">;</span>为止，可以在命令c中使用<span class="tips">{}</span>代表当前正在处理的文件名</li>
<li><span class="strong">-execdir 命令c {}&emsp;\;</span>&emsp;(GNU拓展)找到文件后执行命令c，find会对每一个找到的文件单独执行一次execdir选项后指定的命令，命令c如果要用到文件名作为参数，会以匹配文件的<span class="tips">文件名(不包含路径)</span>作为参数执行命令。该选项在执行命令前，会进入匹配文件所在目录，然后直接以文件名作为命令执行参数，因此该选项适合执行那些命令参数中适合直接使用文件名，而不应该包含路径的命令(如：tar命令)，它比-exec安全。同样，-execdir之后的所有参数都会作为命令c的一部分，直到遇到<span class="tips">;</span>为止，可以在命令c中使用<span class="tips">{}</span>代表当前正在处理的文件名</li>
</ul>
<p>上述命令都使用<span class="tips">;</span>作为命令终止符，为了防止shell解析，<span class="tips">;</span>号需要使用引号包裹或转义符转义，写成<span class="tips">\;</span>或者<span class="tips">‘;’</span>形式</p>
<p><span class="strong">关于安全性</span>：-execdir选项在执行命令前，会进入匹配文件所在目录，这一行为可能会带来安全风险。如果这些目录包含恶意程序(如：攻击者自定义的ls命令)，而用户的PATH环境变量中包含了相对路径.或空值，则此时系统查找命令的路径也会随着切换到当前目录中，并且可能会将攻击者的程序作为系统命令执行，因此，-execdir会在命令执行前会检查PATH环境变量，要求PATH必须满足：</p>
<ul>
<li>所有路径都必须是绝对路径(如”/bin:/usr/bin:/sbin:/usr/local/bin”合格)</li>
<li>不能包含空元素(如”/bin:/usr/bin::/usr/local/bin”中间::之间包含空元素)</li>
<li>不能包含相对路径(如”/bin:/usr/bin:.:/usr/local/bin:sbin”中包含相对路径.和非绝对路径目录sbin)</li>
</ul>
<p>当PATH不满足上述要求时，find会在执行-execdir及其所指定的命令时拒绝执行命令并报错</p>
<div class="show">风险案例：
假设有以下文件
test
  |___src
       &emsp;|_____file.txt
       &emsp;|_____ ls(恶意程序)
文件ls的内容为：
<code>#!/bin/bash
echo -e "\e[91m恶意脚本启动\e[0m"</code>
为该文件赋予权限：
chmod +x ls
<span class="text-blue">对于-execdir：</span>
如果用户的PATH中包含相对路径
export PATH=".:$PATH"
此时在test目录下执行命令：
find . -name "*.txt" -execdir ls {} ';'
-execdir会在匹配到src/file.txt时，进入src目录，然后执行ls命令
系统根据PATH变量查找ls命令时，由于PATH包含.且优先级高，将直接执行当前目录下的ls而非系统的ls，由此，恶意程序将被成功执行
因此，-execdir被设计为如果PATH包含相对路径或者空值，将报错：
<code>find: The current directory is included in the PATH environment variable, which is insecure in combination with the -execdir action of find.  Please remove the current directory from your $PATH (that is, remove ".", doubled colons, or leading or trailing colons)</code>
<span class="text-blue">对于-exec：</span>
-exec选项在执行命令时不会进入匹配文件的目录，因此在test目录下执行命令：
find . -name "*.txt" -exec ls {} \;
即便PATH包含相对路径，系统无法在test目录下找到ls可执行文件，会继续前往后续路径查找，因此也不会执行src/ls恶意程序
但如果在src目录下执行上述命令，恶意程序会被成功执行，因为此时PATH会引导系统执行当前路径下的ls文件，而-exec并不会检查PATH的值
因此，-exec的设计哲学为：-exec本身不会切换路径，并没有切换目录带来的安全风险，也不依赖PATH的值，用户需要自行确认所搜索的目录是安全的！以避免搜索的根路径下有恶意程序
</div>


<p><span class="strong">批量处理</span></p>
<ul>
<li><p><span class="strong">-exec 命令 {}&emsp;+ </span>&emsp;找到文件后直接执行命令(批量模式)，find命令会对找到的文件统一执行exec选项后指定的命令。find会收集所有匹配的文件并存储到{}中，命令中只允许出现一个{}，且必须出现在末尾，+号之前，这意味着执行cp等命令需要依赖xargs等命令</p>
</li>
<li><p><span class="strong">-execdir 命令 {}&emsp;+ </span>&emsp;(GNU拓展)找到文件后直接执行命令(批量模式)，其他同上</p>
</li>
<li><p><span class="strong">-ok 命令 {}&emsp;\;</span>&emsp;找到文件后会每个文件逐一询问是否执行命令，执行命令时会将所匹配文件的路径和文件名传递给所指定命令，ok选项不支持+批量模式(因为需要逐条确认)</p>
</li>
<li><p><span class="strong">-okdir 命令 {}&emsp;\;</span>找到文件后会每个文件逐一询问是否执行命令，执行命令时会进入文件所在目录，只将文件名传递给所执行命令，与-ok选项的区别等同于-exec和-execdir</p>
</li>
</ul>
<p>上述命令中,<span class="tips">{}</span>为find命令专有占位符，用于传递find命令找到的文件，find会将其作为参数传递给exec/ok选项后的那些将要执行的命令。<span class="tips">;</span>是exec/ok选项的结束标记，当指定了多个需要执行的命令时，exec/ok选项需要通过;来识别命令是否输入结束，但由于<span class="tips">;</span>是shell的命令分隔符，因此find命令中的;需要进行转义，因此需要添加一个额外的转义符<span class="tips">\</span>。在与<span class="tips">-quit</span>搭配时，find在退出前会执行-exec {} +已经收集到的文件，然后执行一次-exec后所指定的命令，然后退出</p>
<div class="show">示例:
# find /etc -name init* -a -type f -exec ls -l {} \;
找到/etc目录下所有init开头的文件并列出具体文件信息
# find /home -size +100MB -a -user user1 -ok rm {} \;
找到/home目录下属于user1用户且大于100MB的文件，然后依次询问是否删除找到的文件
</div>





<h3 id="locate-文件查找工具"><a href="#locate-文件查找工具" class="headerlink" title="locate 文件查找工具"></a>locate 文件查找工具</h3><p>locate为一个文件查找工具，可以从yum源安装<br>find命令为在指定目录下遍历查找，会占用大量系统资源，而且查找速度较慢，locate会建立文件资料库，然后在资料库中查找，反应速度快。<br><span class="strong">locate [-i] 文件名</span></p>
<ul>
<li>-i&emsp;不区分大小写</li>
<li>locate会定期更新资料库，但实时新建的文件可能会找不到，可以在root下使用 updatedb 命令手动更新资料库</li>
<li>locate 不会将/tmp等临时缓存文件收录到资料库中，因此临时文件使用locate找不到</li>
</ul>
<h3 id="压缩与解压缩"><a href="#压缩与解压缩" class="headerlink" title="压缩与解压缩"></a>压缩与解压缩</h3><h4 id="文件的压缩与解压-gz格式"><a href="#文件的压缩与解压-gz格式" class="headerlink" title="文件的压缩与解压(.gz格式)"></a>文件的压缩与解压(.gz格式)</h4><p><span class="tips">.gz</span>是GNU gzip软件的压缩格式，与windows不同，下述命令只能压缩与解压缩文件，不能处理文件夹，并且压缩完只保留压缩文件，不保留原文件</p>
<ul>
<li><span class="strong">gzip 文件名</span>&emsp;压缩(GUN zip)</li>
<li><span class="strong">gunzip 文件名</span>&emsp;解压缩(GUN unzip)</li>
<li><span class="strong">gzcat 文件名</span>&emsp;原来查看压缩过的文本文件内容</li>
</ul>
<div class="show">e.g.可以在命令中指定多个文件名，或使用通配符一次压缩多个文件，每个文件单独生成一个.gz压缩文件
$ gzip my* #压缩所有my开头的文件</div>

<h4 id="文件的打包、压缩与解压-tar-gz格式"><a href="#文件的打包、压缩与解压-tar-gz格式" class="headerlink" title="文件的打包、压缩与解压(.tar.gz格式)"></a>文件的打包、压缩与解压(.tar.gz格式)</h4><h5 id="打包与压缩"><a href="#打包与压缩" class="headerlink" title="打包与压缩"></a>打包与压缩</h5><p>tar命令用于文件的归档打包，它将指定的文件或目录以指定的方式进行组织和存储，包括文件的权限、所有者、时间戳等信息，并打包成一个单独的文件，打包后的文件格式一般为<span class="tips">.tar</span>，打包后的文件可以用<span class="strong">gzip</span>命令压缩，生成<span class="tips">.tar.gz(或.tgz)</span>格式的压缩包文件，<span class="strong">tar</span>命令也支持直接将文件重定向给<span class="strong">gzip</span>命令，一次性完成打包、压缩操作，打包压缩后的文件名可以不写.tar.gz等后缀，但不方便用户识别</p>
<p><span class="strong">tar [参数] [打包后文件名] [打包文件/目录]</span> 打包文件或目录</p>
<ul>
<li><span class="strong">-c(-&zwnj;-create)</span> &emsp;打包为一个新的归档文件 </li>
<li><span class="strong">-z</span> &emsp;将输出重定向给gzip命令，即打包后压缩(需要和-c等参数一起使用)</li>
<li>-r(-&zwnj;-append) &emsp;追加文件到已有tar归档文件末尾</li>
<li>-A(-&zwnj;-concatenate) &emsp;将一个已有tar归档文件追加到另一个已有tar归档文件</li>
<li>-d(-&zwnj;-diff) &emsp;检查该文件和其在归档文件中的不同之处，如果被修改则标记为changed，被删除标记为deleted，该文件未被打包到归档文件中则标记为added</li>
<li>-&zwnj;-delete &emsp;从已有tar归档文件中删除</li>
<li>-u(-&zwnj;-update) 将比tar归档文件中已有的同名文件新的文件追加到该tar归档文件中</li>
<li>-p 保留所有文件权限</li>
<li>-v &emsp;显示详细信息</li>
<li>-t(-&zwnj;-list) 列出已有tar归档文件的内容</li>
<li>-f &emsp;指定文件名(该参数必须)</li>
</ul>
<div class="show">示例:
# tar -cvf test1.tar test1
打包test1文件夹中文件为test1.tar文件，并显示详细信息
# tar -zcf test.tar.gz test1
打包并压缩test1文件夹为test.tar.gz
</div>

<h5 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h5><p><span class="strong">tar [参数] [解压缩的文件]</span></p>
<ul>
<li>-x &emsp;解包，提取文件</li>
<li>-v &emsp;显示详细信息</li>
<li>-f &emsp;指定解压缩的文件(该参数必须)</li>
<li>-z &emsp;解包后解压缩(需要和x参数一起使用)<p>最常用的是解压一个.tar.gz文件，因此大多数情况下-zxf为必用参数</p>
<div class="show">示例:
# tar -zxvf test.tar.gz 
解压缩test.tar.gz文件，并显示详细信息
</div></li>
</ul>
<h4 id="zip格式的压缩与解压"><a href="#zip格式的压缩与解压" class="headerlink" title=".zip格式的压缩与解压"></a>.zip格式的压缩与解压</h4><p><span class="strong">zip [选项] [-r] [压缩后文件名] [压缩文件或目录]</span></p>
<ul>
<li>-r&emsp;压缩目录<p>.zip格式为Linux和windows通用格式，zip命令会保留原文件，并且一个命令就可以处理文件与文件夹</p></li>
</ul>
<p><span class="strong">unzip [解压的文件名]</span></p>
<p>解压文件</p>

<h4 id="bz2、-tar-bz2格式的压缩与解压"><a href="#bz2、-tar-bz2格式的压缩与解压" class="headerlink" title=".bz2、.tar.bz2格式的压缩与解压"></a>.bz2、.tar.bz2格式的压缩与解压</h4><h5 id="1-压缩"><a href="#1-压缩" class="headerlink" title="1. 压缩"></a>1. 压缩</h5><h6 id="对文件-格式为-bz2"><a href="#对文件-格式为-bz2" class="headerlink" title="对文件(格式为.bz2)"></a>对文件(格式为.bz2)</h6><p><span class="strong">bzip2 [参数] [-k][文件]</span></p>
<ul>
<li>-k &emsp;压缩后保留原文件</li>
</ul>
<h6 id="对文件夹-格式为-tar-bz2"><a href="#对文件夹-格式为-tar-bz2" class="headerlink" title="对文件夹(格式为.tar.bz2)"></a>对文件夹(格式为.tar.bz2)</h6><p><span class="strong">tar -jcf [压缩后文件名] [压缩目录]</span></p>
<p>即将tar中的z参数改为j参数就是压缩为.tar.bz2格式</p>

<h5 id="2-解压"><a href="#2-解压" class="headerlink" title="2. 解压"></a>2. 解压</h5><h6 id="对文件-格式为-bz2-1"><a href="#对文件-格式为-bz2-1" class="headerlink" title="对文件(格式为.bz2)"></a>对文件(格式为.bz2)</h6><p><span class="strong">bunzip2 [-k] [解压文件]</span></p>
<ul>
<li>-k &emsp;解压缩后保留原文件</li>
</ul>
<h6 id="对文件夹-格式为-tar-bz2-1"><a href="#对文件夹-格式为-tar-bz2-1" class="headerlink" title="对文件夹(格式为.tar.bz2)"></a>对文件夹(格式为.tar.bz2)</h6><p><span class="strong">tar -jxf [解压文件]</span></p>
<p>同样将tar中的z参数改为j参数就是解压.tar.bz2格式</p>


        </div>
    </div>
    <div class="post-nav">
        
            <div class="post-prev ">
                <a href="/blog/2021/12/29/Linux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/">上一篇：Linux文件系统与文件类型</a>
            </div>
            
            
                <div class="post-next">
                    <a href="/blog/2021/12/29/Linux%E7%B3%BB%E7%BB%9F%E4%B8%8E%E4%BF%A1%E6%81%AF/">下一篇：Linux 系统与信息 </a>
                </div>
                 
    </div>
    <div class="container">
        <!--设计来源于B站-季夏小贞-->
        <div class="big-head"></div>
        <div class="ears"></div>
        <div class="body"></div>
        <div class="paws-front"></div>
        <div class="paws-back"></div>
        <div class="details"></div>
        <div class="tail"></div>
        <div class="sleep">
          <span class="s1">z</span>
          <span class="s2">z</span>
          <span class="s3">z</span>
          <span class="s4">z</span>
          <span class="s5">z</span>
        </div>
    </div>
</div>
<div class="right-menu">
    <a class="iconfont back-top" href="javascript:">&#xe655;</a>
    <div class="husky"></div>
  </div>
</div>

<script src="/blog/js/jquery.min.js"></script>
<script src="/blog/js/jquery.bumpytext.js"></script>
<script src="/blog/js/index.js"></script>
<script src="/blog/js/highlight.min.js"></script>
<script src="/blog/js/highlightjs-line-numbers.min.js"></script>
<script src="/blog/js/article.js"></script>

</body></html>